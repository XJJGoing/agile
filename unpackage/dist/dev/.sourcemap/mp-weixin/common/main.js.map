{"version":3,"sources":["webpack:///F:/个人信息/agile/App.vue?f4c3","webpack:///F:/个人信息/agile/App.vue?d04e","webpack:///F:/个人信息/agile/App.vue?e90d","webpack:///F:/个人信息/agile/App.vue","webpack:///F:/个人信息/agile/App.vue?b5d0"],"names":["query","require","Query","enterSprint","projectId","uni","request","url","sprintQuery","method","data","dataType","then","allSprint","records","sprintId","length","nowDateTime","Date","parse","i","startTime","endTime","id","pop","setStorage","key","catch","Error","showToast","title","duration","icon","_this","userInfo","onShow","console","log","getStorage","success","res1","res2","roleId","findUserProjectRole","removeStorage","redirectTo","fail","onLaunch","onHide","res","nowInProject","error","methods"],"mappings":"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","file":"common/main.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\谷歌下载内容保存地\\\\HbuiderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2969f12a', component.options)\n    } else {\n      api.reload('2969f12a', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"个人信息/agile/App.vue\"\nexport default component.exports","import mod from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","import mod from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","\n    const query = require('./static/utils/utils').Query;\n\tconst Query = new query();\n\t\n\timport {sprintQuery} from './static/utils/api.js';\n\timport {formatDate} from './static/utils/time.js';\n\t\n\t//一进入项目就设置进入本项目的相应的时间段内的冲刺(先查询然后进行时间的比对)\n\tconst enterSprint = (projectId) =>{\n\t\t\t  \tif(projectId){\n\t\t\t  \t \tuni.request({\n\t\t\t  \t \turl:sprintQuery, \n\t\t\t  \t \tmethod:\"POST\",\n\t\t\t  \t \tdata:{\n\t\t\t  \t \t\tprojectId:projectId,\n\t\t\t  \t \t},\n\t\t\t  \t \tdataType:'json',\n\t\t\t  \t })\n\t\t\t  \t .then(data=>{\n\t\t\t  \t \tlet allSprint = data[1].data.data.records;\n\t\t\t  \t\tlet sprintId;\n\t\t\t  \t \tif(allSprint.length){\n\t\t\t  \t\t  //获取当前的时间并且进行时间转换用作比较\n\t\t\t  \t\t  let nowDateTime = new Date(Date.parse(formatDate(new Date())));\n\t\t\t  \t\t  for(var i in allSprint){\n\t\t\t  \t\t  \tif(new Date(Date.parse(allSprint[i].startTime))<=nowDateTime\n\t\t\t  \t\t  \t&&nowDateTime<new Date(Date.parse(allSprint[i].endTime))){\n\t\t\t  \t\t  \t\tsprintId = allSprint[i].id;\n\t\t\t  \t\t  \t}\t\n\t\t\t  \t\t  } \n\t\t\t  \t\t  if(sprintId===\"\"){ //如果实在都超过了时间段就默认进入最后一个\n\t\t\t  \t\t\t  sprintId = allSprint.pop().id;\n\t\t\t  \t\t  }\n\t\t\t  \t\t  uni.setStorage({\n\t\t\t  \t\t  \tkey:'sprintId', \n\t\t\t  \t\t\tdata:sprintId,\n\t\t\t  \t\t  }) \n\t\t\t  \t \t}else{ \n\t\t\t  \t\t\tuni.setStorage({\n\t\t\t  \t\t\t\tkey:'sprintId',\n\t\t\t  \t\t\t\tdata:\"\",\n\t\t\t  \t\t\t})\n\t\t\t  \t\t}\n\t\t\t  \t })\n\t\t\t  \t .catch(Error=>{\n\t\t\t  \t \tuni.showToast({\n\t\t\t  \t \t\ttitle:\"网络错误\",\n\t\t\t  \t \t\tduration:1000,\n\t\t\t  \t \t\ticon:\"loading\"\n\t\t\t  \t \t})\n\t\t\t  \t })\t\n\t\t\t }\n\t   } \n\t\n\tvar _this;\n\texport default {\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tuserInfo:{},       //用户的信息\n\t\t\t\tprojectId:\"\"        //项目的id\n\t\t\t}\n\t\t},\n\t\tonShow: function() {\n\t\t\t_this = this;\n\t\t\tconsole.log(\"启动微信小程序\")\n\t\t\t\n\t\t\t//当微信小程序一启动的时候就去判断用户有没有登录\n\t\t\t //当微信小程序一启动的时候，就去storage中判断有没有nowInproject,\n\t\t\t//而且判断里面roleid为3的时候，再去数据库中查找进而确定还能不能够访问。\n\t\t\t//如果有项目和冲刺就进入时间段内sprintId\n\t\t\t\n\t\t\tuni.getStorage({\n\t\t\t\tkey:'userInfo', \n\t\t\t\tsuccess:(res1)=>{\n\t\t\t\t\t _this.userInfo = res1.data;\n\t\t\t\t\t\t uni.getStorage({\n\t\t\t\t\t\t \tkey:'nowInProject',\n\t\t\t\t\t\t\tsuccess:(res2)=>{\n\t\t\t\t\t\t\t   \t    if(res2.data.roleId===3)\n\t\t\t\t\t\t\t        {     //不用判断等于四,这种设计不存在等于4权限的情况\n\t\t\t\t\t\t\t   \t\tQuery.findUserProjectRole(_this.userInfo.id,res2.data.projectId)\n\t\t\t\t\t\t\t   \t\t.then(data=>{\n\t\t\t\t\t\t\t\t\t\tconsole.log(\"获取到的用户的最新的权限\",data)\n\t\t\t\t\t\t\t   \t\t\tif(data.data.roleId===4){\n\t\t\t\t\t\t\t   \t\t\t\t uni.removeStorage({\n\t\t\t\t\t\t\t   \t\t\t\t\t key:\"nowInPorject\",\n\t\t\t\t\t\t\t   \t\t\t\t\t success:()=>{ \n\t\t\t\t\t\t\t   \t\t\t\t\t\t console.log(\"权限改变移除nowInProject\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t uni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t \turl: '/pages/apply/apply',\n\t\t\t\t\t\t\t\t\t\t\t\t\t });\n\t\t\t\t\t\t\t   \t\t\t\t\t }\n\t\t\t\t\t\t\t   \t\t\t\t })\n\t\t\t\t\t\t\t   \t\t\t}else{ \n\t\t\t\t\t\t\t   \t\t\t      uni.setStorage({\n\t\t\t\t\t\t\t   \t\t\t\t  key:'nowInProject',\n\t\t\t\t\t\t\t   \t\t\t\t  data:data.data.records[0],\n\t\t\t\t\t\t\t   \t\t\t\t  success:()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\t\t\t\t //设置projectId并且进入冲刺\n\t\t                                        _this.projectId = data.data.records[0].projectId;\n\t\t\t\t\t\t\t\t\t\t\t\tenterSprint(_this.projectId);  \n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t   \t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t   \t\t\t\t\t\turl:'/pages/index/index'\n\t\t\t\t\t\t\t   \t\t\t        })\n\t\t\t\t\t\t\t   \t\t         }\n\t\t\t\t\t\t\t   \t          })\n\t\t\t\t\t\t\t   \t\t    }\n\t\t\t\t\t\t\t   \t    })\t\t\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t    else{\n\t\t\t\t\t\t\t\t //设置projectId并且进入冲刺\n\t\t\t\t\t\t\t\t_this.projectId = res2.data.projectId;\n\t\t\t\t\t\t\t\tenterSprint(_this.projectId);  \n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t   \tuni.redirectTo({\n\t\t\t\t\t\t\t   \t\turl:'/pages/index/index'\n\t\t\t\t\t\t\t   \t  })\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t        }, \n\t\t\t\t\t\t\tfail:()=>{  //没有直接跳\n\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\turl:'/pages/apply/apply'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  })\n\t\t\t\t\t\t},\n\t\t\t\t   \t\tfail:()=>{\n\t\t\t\t   \t\t\tuni.redirectTo({\n\t\t\t\t   \t\t\t\turl:'/pages/login/login'\n\t\t\t\t   \t\t\t})\n\t\t\t\t   \t\t}\n\t\t\t\t   \t})\n\t\t },\n\t\t\t\n\t    onLaunch:function(){\n\t\t\t\n\t\t},\n\t\t\n\t\t//退出该小程序的时候再次进行权限的判断，将信息保存到nowInProject 中,应付1权限用户将2权限用户改成3、4权限\n\t\tonHide: function() {\n\t\t\t//下面这个为正确的代码\n\t\t\t_this = this;\n\t\t\tuni.getStorage({\n\t\t\t\tkey:\"nowInProject\",\n\t\t\t\tsuccess:(res)=>{\n\t\t\t\t  Query.findUserProjectRole(_this.userInfo.id,res.data.projectId)\n\t\t\t\t  .then(data=>{\n\t\t\t\t\t  if(data.data.records[0].roleId===4){  //为4直接清空\n\t\t\t\t\t\t  uni.removeStorage({\n\t\t\t\t\t\t  \tkey:nowInProject,\n\t\t\t\t\t\t    success:()=>{\n\t\t\t\t\t\t\t\tconsole.log(\"权限改变成4清空nowInProject\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t  })\n\t\t\t\t\t  }else{  //不为4再次进行保存\n\t\t\t\t\t\t uni.setStorage({\n\t\t\t\t\t\t \tkey:'nowInProject',\n\t\t\t\t\t\t\tdata:data.data.records[0],\n\t\t\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\t\t\tconsole.log(\"更新nowInProject成功,小程序退到后台\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t })\n\t\t\t\t\t  }\n\t\t\t\t  })\n\t\t\t\t  .catch(error=>{\n\t\t\t\t\t  console.log(\"退出时网络错误\")\n\t\t\t\t  })\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tmethods:{\n\t\t   \n\t\t}\n\t\t\t\n\t}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}