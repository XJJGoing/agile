{"version":3,"sources":["webpack:///F:/个人信息/agile/App.vue?f4c3","webpack:///F:/个人信息/agile/App.vue?d04e","webpack:///F:/个人信息/agile/App.vue?e90d","webpack:///F:/个人信息/agile/App.vue","webpack:///F:/个人信息/agile/App.vue?b5d0"],"names":["query","require","Query","enterSprint","projectId","uni","request","url","sprintQuery","method","data","dataType","then","allSprint","records","sprintId","length","nowDateTime","Date","parse","i","startTime","endTime","id","len","setStorage","key","catch","Error","showToast","title","duration","icon","_this","userInfo","onShow","console","log","getStorage","success","res1","findUser","isRoot","switchTab","res2","roleId","findUserProjectRole","removeStorage","redirectTo","fail","onLaunch","onHide","res","nowInProject","error","methods"],"mappings":"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","file":"common/main.js","sourcesContent":["var render, staticRenderFns\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\谷歌下载内容保存地\\\\HbuiderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2969f12a', component.options)\n    } else {\n      api.reload('2969f12a', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"个人信息/agile/App.vue\"\nexport default component.exports","import mod from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","import mod from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","\n    const query = require('./static/utils/utils').Query;\n\tconst Query = new query();\n\t\n\timport {sprintQuery} from './static/utils/api.js';\n\timport {formatDate} from './static/utils/time.js';\n\t\n\t//一进入项目就设置进入本项目的相应的时间段内的冲刺(先查询然后进行时间的比对)\n\tconst enterSprint = (projectId) =>{\n\t\t\t  \tif(projectId){\n\t\t\t  \t \tuni.request({\n\t\t\t  \t \turl:sprintQuery, \n\t\t\t  \t \tmethod:\"POST\",\n\t\t\t  \t \tdata:{\n\t\t\t  \t \t\tprojectId:projectId,\n\t\t\t  \t \t},\n\t\t\t  \t \tdataType:'json',\n\t\t\t  \t })\n\t\t\t  \t .then(data=>{\n\t\t\t  \t \tlet allSprint = data[1].data.data.records;\n\t\t\t  \t\tlet sprintId;\n\t\t\t  \t \tif(allSprint.length){\n\t\t\t  \t\t  //获取当前的时间并且进行时间转换用作比较\n\t\t\t  \t\t  let nowDateTime = new Date(Date.parse(formatDate(new Date())));\n\t\t\t  \t\t  for(var i in allSprint){\n\t\t\t  \t\t  \tif(new Date(Date.parse(allSprint[i].startTime))<=nowDateTime\n\t\t\t  \t\t  \t&&nowDateTime<new Date(Date.parse(allSprint[i].endTime))){\n\t\t\t  \t\t  \t\tsprintId = allSprint[i].id;\n\t\t\t  \t\t  \t}\t \n\t\t\t  \t\t  } \n\t\t\t  \t\t  if(!sprintId){           //如果实在都超过了时间段就默认进入最后一个\n\t\t\t  \t\t\t   let len = allSprint.length-1;\n\t\t\t  \t\t\t   sprintId = allSprint[len].id;\n\t\t\t  \t\t  }\n\t\t\t  \t\t  uni.setStorage({\n\t\t\t  \t\t  \tkey:'sprintId', \n\t\t\t  \t\t\tdata:sprintId,\n\t\t\t  \t\t  }) \n\t\t\t  \t \t}else{ \n\t\t\t  \t\t\tuni.setStorage({\n\t\t\t  \t\t\t\tkey:'sprintId',\n\t\t\t  \t\t\t\tdata:\"\",\n\t\t\t  \t\t\t})\n\t\t\t  \t\t}\n\t\t\t  \t })\n\t\t\t  \t .catch(Error=>{\n\t\t\t  \t \tuni.showToast({\n\t\t\t  \t \t\ttitle:\"网络错误\",\n\t\t\t  \t \t\tduration:1000,\n\t\t\t  \t \t\ticon:\"loading\"\n\t\t\t  \t \t})\n\t\t\t  \t })\t\n\t\t\t }\n\t   } \n\t\n\tvar _this;\n\texport default {\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tuserInfo:{},       //用户的信息\n\t\t\t\tprojectId:\"\"        //项目的id\n\t\t\t}\n\t\t},\n\t\tonShow: function() {\n\t\t\t_this = this;\n\t\t\tconsole.log(\"启动微信小程序\")\n\t\t\t\n\t\t\t//当微信小程序一启动的时候就去判断用户有没有登录,如果为超级用户就直接跳转people页面进行项目的审核\n\t\t\t //当微信小程序一启动的时候，就去storage中判断有没有nowInproject,\n\t\t\t//而且判断里面roleid为3的时候，再去数据库中查找进而确定还能不能够访问。\n\t\t\t//如果有项目和冲刺就进入时间段内sprintId\n\t\t\t\n\t\t\tuni.getStorage({\n\t\t\t\tkey:'userInfo', \n\t\t\t\tsuccess:(res1)=>{\n\t\t\t\t\tlet id = {\n\t\t\t\t\t\tid:res1.data.id\n\t\t\t\t\t}\n\t\t\t\t    Query.findUser(id)\n \t\t\t\t\t.then(data=>{\n\t\t\t\t\t\tconsole.log(\"启动信息\",data.data.records[0])\n                        if(data.data.records[0].isRoot){\n\t\t\t\t\t\t\tuni.switchTab({\n\t\t\t\t\t\t\t\turl:'/pages/people/people'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t_this.userInfo = data.data.records[0]\n\t\t\t\t\t\t     uni.getStorage({\n\t\t\t\t\t\t    \tkey:'nowInProject',\n\t\t\t\t\t\t\t\tsuccess:(res2)=>{\n\t\t\t\t\t\t\t\t\t\tif(res2.data.roleId===3)\n\t\t\t\t\t\t\t\t\t\t{     //不用判断等于四,这种设计不存在等于4权限的情况\n\t\t\t\t\t\t\t\t\t\t Query.findUserProjectRole(_this.userInfo.id,res2.data.projectId)\n\t\t\t\t\t\t\t\t\t\t .then(data=>{\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"获取到的用户的最新的权限\",data)\n\t\t\t\t\t\t\t\t\t\t\tif(data.data.roleId===4){\n\t\t\t\t\t\t\t\t\t\t\t\t uni.removeStorage({\n\t\t\t\t\t\t\t\t\t\t\t\t\t key:\"nowInPorject\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t success:()=>{ \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t console.log(\"权限改变移除nowInProject\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t uni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/apply/apply',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t });\n\t\t\t\t\t\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\t\t\t\t\t\t })\n\t\t\t\t\t\t\t\t\t\t\t}else{ \n\t\t\t\t\t\t\t\t\t\t\t\t  uni.setStorage({\n\t\t\t\t\t\t\t\t\t\t\t\t  key:'nowInProject',\n\t\t\t\t\t\t\t\t\t\t\t\t  data:data.data.records[0],\n\t\t\t\t\t\t\t\t\t\t\t\t  success:()=>{\n\t\t\t\t\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\t\t\t\t\t //设置projectId并且进入冲刺\n\t\t\t\t\t\t                            _this.projectId = data.data.records[0].projectId;\n\t\t\t\t\t\t\t\t\t\t\t\t\tenterSprint(_this.projectId);  \n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl:'/pages/index/index'\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\t\t //设置projectId并且进入冲刺\n\t\t\t\t\t\t\t\t\t_this.projectId = res2.data.projectId;\n\t\t\t\t\t\t\t\t\tenterSprint(_this.projectId);  \n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\turl:'/pages/index/index'\n\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t        }, \n\t\t\t\t\t\t\tfail:()=>{  //没有直接跳\n\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\turl:'/pages/apply/apply'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t     })\t\n\t\t\t\t\t\t} \t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t.catch(Error=>{\n\t\t\t\t\t\t   uni.showToast({\n\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\tduration:1000,\n\t\t\t\t\t\t\ticon:\"loading\"\n\t\t\t\t\t\t   })\n\t\t\t\t\t  })\n\t\t\t\t\t},\n\t\t\t\t   \tfail:()=>{\n\t\t\t\t   \t\t\tuni.redirectTo({\n\t\t\t\t   \t\t\t\turl:'/pages/login/login'\n\t\t\t\t   \t\t\t})\n\t\t\t\t   \t\t}\n\t\t\t\t   \t})\n\t\t },\n\t\t\t\n\t    onLaunch:function(){\n\t\t\t\n\t\t},\n\t\t\n\t\t//退出该小程序的时候再次进行权限的判断，将信息保存到nowInProject 中,应付1权限用户将2权限用户改成3、4权限\n\t\tonHide: function() {\n\t\t\t//下面这个为正确的代码\n\t\t\t_this = this;\n\t\t\tuni.getStorage({\n\t\t\t\tkey:\"nowInProject\",\n\t\t\t\tsuccess:(res)=>{\n\t\t\t\t  Query.findUserProjectRole(_this.userInfo.id,res.data.projectId)\n\t\t\t\t  .then(data=>{\n\t\t\t\t\t  if(data.data.records[0].roleId===4){  //为4直接清空\n\t\t\t\t\t\t  uni.removeStorage({\n\t\t\t\t\t\t  \tkey:nowInProject,\n\t\t\t\t\t\t    success:()=>{\n\t\t\t\t\t\t\t\tconsole.log(\"权限改变成4清空nowInProject\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t  })\n\t\t\t\t\t  }else{  //不为4再次进行保存\n\t\t\t\t\t\t uni.setStorage({\n\t\t\t\t\t\t \tkey:'nowInProject',\n\t\t\t\t\t\t\tdata:data.data.records[0],\n\t\t\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\t\t\tconsole.log(\"更新nowInProject成功,小程序退到后台\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t })\n\t\t\t\t\t  }\n\t\t\t\t  })\n\t\t\t\t  .catch(error=>{\n\t\t\t\t\t  console.log(\"退出时网络错误\")\n\t\t\t\t  })\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\tmethods:{\n\t\t   \n\t\t}\n\t\t\t\n\t}\n","// extracted by mini-css-extract-plugin"],"sourceRoot":""}