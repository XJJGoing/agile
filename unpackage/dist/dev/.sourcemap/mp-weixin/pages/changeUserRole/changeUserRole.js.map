{"version":3,"sources":["webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?8ad5","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?8271","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?34a0","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?f676","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?c019","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?580f"],"names":["login","require","Login","query","Query","_this","data","pickerWidth","inputWidth","userInfo","projectId","beChangeUserId","beChangeUserRoleId","beChangeUserProjectRoleId","roleArry","departmentArry","isDisplay","newDepartment","allDepartmentArry","hadDepartment","hadDepartmentId","hadUserProjectDepartmentId","isHadUserProjectDepartment","onShow","getSystem","uni","getStorage","key","success","res","id","findUser","then","getAllDepartment","queryUserProjectDepartment","fail","url","onLoad","e","changeUserIdRoleId","parseInt","userId","roleId","console","log","methods","getSystemInfo","windowWidth","request","method","department","arry","i","push","name","catch","error","showToast","icon","title","duration","updateUserRoleId","userProjectRoleUpdateBatch","dataType","hideLoading","addUserDepartmentId","departmentId","userProjectDepartmentAdd","updateUserProjectDepartment","showLoading","project","userProjectDepartmentQuery","records","undefined","submitChange","inputDeparment","departName","detail","value","reg","test","addDepartment","length","departmentAdd","rolePickerChange","index","departmentPickerChange"],"mappings":"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","file":"pages/changeUserRole/changeUserRole.js","sourcesContent":["import { render, staticRenderFns } from \"./changeUserRole.vue?vue&type=template&id=a5c55ea4&\"\nimport script from \"./changeUserRole.vue?vue&type=script&lang=js&\"\nexport * from \"./changeUserRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changeUserRole.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\谷歌下载内容保存地\\\\HbuiderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('a5c55ea4', component.options)\n    } else {\n      api.reload('a5c55ea4', component.options)\n    }\n    module.hot.accept(\"./changeUserRole.vue?vue&type=template&id=a5c55ea4&\", function () {\n      api.rerender('a5c55ea4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"个人信息/agile/pages/changeUserRole/changeUserRole.vue\"\nexport default component.exports","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=template&id=a5c55ea4&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst login = require('../../static/utils/utils').Login;\nconst query = require('../../static/utils/utils').Query;\nconst Login = new login();\nconst Query = new query();\nimport {userProjectRoleUpdateBatch,\n        getAllDepartment,\n\t\tuserProjectDepartmentAdd,\n\t\tuserProjectDepartmentQuery,\n\t\tupdateUserProjectDepartment,\n\t\tdepartmentAdd\n\t\t} from '../../static/utils/api.js';\nvar _this;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t   pickerWidth:\"\",                         //picker的长度\n\t\t   inputWidth:\"\",                     \t\t\t \n\t\t   userInfo:\" \",\n\t\t   projectId:\"\",\n\t\t   beChangeUserId:\"\",           //改变的权限的用户的id\n\t\t   beChangeUserRoleId:\"\",         //原本的用户的权限\n\t\t   beChangeUserProjectRoleId:\"\",  //t_user_project_role这张表中的id 用于更新权限用的\n\t\t   \n\t\t   roleArry:[2,3,4],          //可选的权限\n\t\t   departmentArry:[],         //存放目前所有专业的专业名称\n\t\t   isDisplay:false,          //是否显示新增专业的列表\n\t\t   newDepartment:\"\",         //输入新增的专业\n\t\t   allDepartmentArry:[],      //存放所有的专业的信息，包括专业的id、专业的名字。\n\t\t   \n\t\t    \n\t\t   hadDepartment:\"\"         ,//查询到的用户已经有的专业\n\t\t   hadDepartmentId:\"\"        ,//查询到的原本已经有的departmentId\n\t\t   hadUserProjectDepartmentId:\"\"  ,//查询到原本已经有的t_user_project_department那张表的id用于更新用\n\t\t   \n\t\t   isHadUserProjectDepartment:false,    //判断这个用户之前有没有这个字段在t_user_project_department中\n\t\t}\n\t},\n\tonShow(){\n\t\t_this = this;\n\t\t_this.getSystem();\n\t\tuni.getStorage({\n\t\t\tkey:\"userInfo\",\n\t\t\tsuccess:(res)=>{\n\t\t\t\tlet id = {\n\t\t\t\t\tid:res.data.id\n\t\t\t\t}\n\t\t\t\tQuery.findUser(id)\n\t\t\t\t.then(data=>{\n\t\t\t\t\t   _this.userInfo = data.data;\n\t\t\t\t\t   uni.getStorage({\n\t\t\t\t\t  \t \tkey:\"nowInProject\",\n\t\t\t\t\t  \t \tsuccess:(res)=>{\n\t\t\t\t\t  \t \t\t_this.projectId = res.data.projectId;\n\t\t\t\t\t\t\t\t_this.getAllDepartment();             //获取所有的专业\n\t\t\t\t\t\t\t\t_this.queryUserProjectDepartment();   //查询该用户目前的专业\n\t\t\t\t\t  \t \t}\n\t\t\t\t\t  \t })\t\n\t\t\t\t\t })\n\t\t\t},\n\t\t\tfail:()=>{\n\t\t\t\turl:'../login/login'\n\t\t\t}\n\t\t})\n\t},\n\t\n\tonLoad(e){\n\t\t_this = this;\n\t\tlet changeUserIdRoleId = e;\n\t\t_this.beChangeUserId = parseInt(changeUserIdRoleId.userId);\n\t\t_this.beChangeUserRoleId = parseInt(changeUserIdRoleId.roleId);\n\t\t_this.beChangeUserProjectRoleId = parseInt(changeUserIdRoleId.id);\n\t\tconsole.log(_this.beChangeUserId,_this.beChangeUserRoleId,_this.beChangeUserProjectRoleId)\n\t},\n\t\n\tmethods: {\t\n\t\t\n\t\t//获取系统的信息设置picker的长度\n\t\tgetSystem:function(){\n\t\t\t_this = this;\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t_this.pickerWidth = parseInt(res.windowWidth)-60;\n\t\t\t\t\t_this.inputWidth = parseInt(res.windowWidth)-100;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t//获取目前所有的专业名称存放到departmentArry中供选择,所有专业的信息放到allDepartmentArry中\n\t\tgetAllDepartment:function(){\n\t\t   _this = this;\n\t\t   uni.request({\n\t\t   \t url:getAllDepartment,\n\t\t\t method:\"GET\",\n\t\t   })\n\t\t   .then(data=>{\n\t\t\t   console.log(\"获取到的所有的专业\",data[1].data.data);\n\t\t\t   let department = data[1].data.data;\n\t\t\t   _this.allDepartmentArry = department;\n\t\t\t   let arry = [];\n\t\t\t  for(var i in department){\n\t\t\t\t  arry.push(department[i].name)\n\t\t\t  }\n\t\t\t   _this.departmentArry = arry;\n\t\t    })\n\t\t\t.catch(error=>{\n\t\t\tuni.showToast({\n\t\t\t\ticon:\"loading\",\n\t\t\t\ttitle:\"获取失败\",\n\t\t\t\tduration:1000\n\t\t\t })\n\t\t  })\n\t\t},\n\t\t\n\t\t\n\t\t//改变用户对应的projectId的权限\n\t\tupdateUserRoleId:function(){\n\t\t\tlet data = {\n\t\t\t\t    id:_this.beChangeUserProjectRoleId,\n\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\troleId:_this.beChangeUserRoleId,\n\t\t\t\t\tprojectId:_this.projectId\n\t\t\t};\n\t\t\tconsole.log(\"url\",userProjectRoleUpdateBatch)\n\t\t\tconsole.log(\"提交修改权限的信息\",data)\n\t\t\t_this = this; \n\t\t    uni.request({\n\t\t    \turl:userProjectRoleUpdateBatch,\n\t\t\t\tmethod:'POST',\n\t\t\t\tdata:[{\n\t\t\t\t\tid:_this.beChangeUserProjectRoleId,\n\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\troleId:_this.beChangeUserRoleId,\n\t\t\t\t\tprojectId:_this.projectId\n\t\t\t\t}],\n\t\t\t\tdataType:'json'\n\t\t    })\n\t\t\t.then(data=>{ \n\t\t\t\tconsole.log(\"更新成功\",data)\n\t\t\t\tuni.hideLoading();\n\t\t\t})\n\t\t},\n\t\n\t    \n\t  //在t_user_project_department中增加projectId对应departmentId  \n\t  addUserDepartmentId:function(){\n\t\t  _this = this;\n\t\t  let data = {\n\t\t\t  userId:_this.beChangeUserId,\n\t\t\t  departmentId:_this.hadDepartmentId, \n\t\t\t  projectId:_this.projectId\n\t\t  };\n\t\t  console.log(\"提交修改专业的信息\",data)\n\t\t  uni.request({\n\t\t  \turl:userProjectDepartmentAdd,\n\t\t\tmethod:\"POST\",\n\t\t\tdata:{ \n\t\t\t\t\"departmentId\": _this.hadDepartmentId,\n\t\t\t\t\"projectId\": _this.projectId,\n\t\t\t    \"userId\": _this.beChangeUserId\n\t\t\t},\n\t\t\tdataType:'json'\n\t\t  })\n\t\t  .then(data=>{\n\t\t\t console.log(\"新增成功\",data);\n\t\t\t uni.hideLoading();\n\t\t  })\n\t  },\n\t  \n\t  //在已经有t_user_project_department的情况下进行修改\n\t  updateUserProjectDepartment:function(){\n\t\t  uni.showLoading({\n\t\t  \ttitle:\"修改中\",\n\t\t\tsuccess:()=>{\n\t\t\t\tuni.request({\n\t\t\t\t\turl:updateUserProjectDepartment,\n\t\t\t\t\tdata:[{\n\t\t\t\t\t\tid:_this.hadUserProjectDepartmentId,\n\t\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\t\tproject:_this.projectId,\n\t\t\t\t\t\tdepartmentId:_this.hadDepartmentId\n\t\t\t\t\t}],\n\t\t\t\t\tmethod:'POST',\n\t\t\t\t\tsuccess:(data)=>{\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tconsole.log(\"存在信息，进行更新\",data)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t },\n\t\t\t fail:()=>{\n\t\t\t\t uni.showToast({\n\t\t\t\t \ttitle:\"网络连接错误\",\n\t\t\t\t\tduration:1000,\n\t\t\t\t\ticon:\"loading\"\n\t\t\t\t })\n\t\t\t }\n\t\t  })\n\t  },\n\t  \n\t  //查询t_user_project_department中用户的专业\n\t  queryUserProjectDepartment:function(){\n\t\t  _this = this;\n\t\t  uni.request({\n\t\t  \turl:userProjectDepartmentQuery,\n\t\t\tdata:{\n\t\t\t  userId:_this.beChangeUserId,\n\t\t\t  project:_this.projectId\n\t\t\t},\n\t\t\tdataType:'json',\n\t\t\tmethod:\"POST\"\n\t\t  })\n\t\t  .then(data=>{\n\t\t\t  console.log(data);\n\t\t\t  console.log(\"查找到的用户项目专业信息\",data[1].data.data.records[0]);\n\t\t\t  let department = data[1].data.data.records[0];\n\t\t\t  if(department!=undefined){\n\t\t\t\t  _this.hadUserProjectDepartmentId = department.id;\n\t\t\t\t  _this.isHadUserProjectDepartment = true;\n\t\t\t\t  let departmentId = data[1].data.data.records[0].departmentId;\n\t\t\t\t _this.hadDepartmentId = departmentId;\n\t\t\t\t for(var i in _this.allDepartmentArry){\n\t\t\t\t \t if(departmentId === _this.allDepartmentArry[i].id){\n\t\t\t\t \t\t  _this.hadDepartment = _this.allDepartmentArry[i].name\n\t\t\t\t\t\t  console.log(_this.hadDepartment)\n\t\t\t\t \t }\n\t\t\t\t }  \n\t\t\t  }else{\n\t\t\t\t  _this.hadDepartment = \"\";\n\t\t\t\t  _this.isHadUserProjectDepartment = false;\n\t\t\t\t  _this.hadUserProjectDepartmentId = \"\";\n\t\t\t  }\n\t\t\t \n\t\t  })\n\t  },\n\t  \n\t  \n\t  \n\t  //提交更改的时候\n\t  submitChange:function(){\n\t\t  _this = this;\n\t\t  if(_this.hadDepartmentId){\n\t\t\t uni.showLoading({\n\t\t\t \t title:\"提交中\",\n\t\t\t \t success:()=>{\n\t\t\t \t\t   if(_this.isHadUserProjectDepartment){ //已经有的字段，进行更新\n\t\t\t\t\t\t   _this.updateUserProjectDepartment();\n\t\t\t\t\t   }else{  //没有字段调用插入\n\t\t\t\t\t       console.log(\"进行字段的插入\")\n\t\t\t\t\t\t   _this.addUserDepartmentId();\n\t\t\t\t\t   }\n\t\t\t \t }\n\t\t\t }) \n\t\t  }\n\t\t  if(_this.beChangeUserRoleId){\n\t\t\t   uni.showLoading({\n\t\t\t  \t title:\"提交中\",\n\t\t\t  \t success:()=>{\n\t\t\t  \t\t   _this.updateUserRoleId();  //改变roleId\n\t\t\t  \t }\n\t\t\t  }) \n\t\t  }\n\t\t  else{\n\t\t\t uni.showToast({\n\t\t\t \tduration:1000,\n\t\t\t\ticon:\"none\",\n\t\t\t\ttitle:\"请完善信息\"\n\t\t\t })\n\t\t  }\n\t  },\n\t  \n\t   \n\t   //输入专业\n\t   inputDeparment:function(e){\n\t\t  let departName = e.detail.value;\n\t\t  let reg = /^[\\u4e00-\\u9fa5]+$/;    //匹配中文\n\t\t  if(reg.test(departName)){\n\t\t\t  this.newDepartment = departName;\n\t\t  }else{\n\t\t\t  uni.showToast({\n\t\t\t  \ttitle:\"信息有误\",\n\t\t\t\tduration:1000,\n\t\t\t\ticon:\"none\"\n\t\t\t  })\n\t\t  }\n\t\t  \n\t   },\n\t\t \n\t   //确认新增专业   ---\n\t   addDepartment:function(){\n\t\t   _this = this;\n\t\t   if(_this.newDepartment&&_this.newDepartment.length<=4){ \n\n\t\t\t  //这里添加请求新增专业\n\t\t\t  uni.showLoading({\n\t\t\t  \ttitle:\"添加中\",\n\t\t\t    success:()=>{ \n\t\t\t\t\t uni.request({\n\t\t\t\t\t\turl:departmentAdd,\n\t\t\t\t\t    method:\"POST\",\n\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\tname:_this.newDepartment\n\t\t\t\t\t\t},\n\t\t\t\t\t    dataType:'josn'\n\t\t\t\t\t })\n\t\t\t\t\t .then(data=>{ //新增专业成功，在此调用获取所有专业的函数\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t    _this.getAllDepartment() \n\t\t\t\t\t })\n\t\t\t\t\t .catch(error=>{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:\"添加失败\",\n\t\t\t\t\t\t\ticon:\"loading\",\n\t\t\t\t\t\t\tduration:1000\n\t\t\t\t\t\t})\n\t\t\t\t\t })\n\t\t\t\t}\n\t\t\t  })\n\t\t   }else{\n\t\t\t  uni.showToast({\n\t\t\t  \ttitle:\"请按照要求填入专业\",\n\t\t\t\tduration:1000,\n\t\t\t\ticon:'none'\n\t\t\t  })\n\t\t   }\n\t   },\n\t   \n\t   //选择权限的改变\n\t   rolePickerChange:function(e){\n\t\t   let index = e.detail.value;\n\t\t   console.log(\"选中的roleId\",this.roleArry[index]);\n\t\t   this.beChangeUserRoleId = this.roleArry[index]\n\t   },\n\t   \n\t   //专业改变的时候\n\t   departmentPickerChange:function(e){\n\t\t   let index = e.detail.value;\n\t\t   console.log(\"选中的department名字\",this.departmentArry[index]);\n\t\t   this.hadDepartment = this.departmentArry[index];\n\t\t   for(var i in this.allDepartmentArry){\n\t\t\t   if(this.departmentArry[index] === this.allDepartmentArry[i].name){\n\t\t\t\t   this.hadDepartmentId = this.allDepartmentArry[i].id;\n\t\t\t   }\n\t\t   }\n\t\t   console.log(\"选中的departmentId\",this.hadDepartmentId)\n\t\t   \n\t   } \n   }\n   \n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}