{"version":3,"sources":["webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?8ad5","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?8271","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?34a0","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?f676","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?c019","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?580f"],"names":["login","require","Login","query","Query","_this","data","pickerWidth","inputWidth","userInfo","projectId","beChangeUserId","beChangeUserRoleId","beChangeUserProjectRoleId","roleArry","departmentArry","isDisplay","newDepartment","allDepartmentArry","hadDepartment","hadDepartmentId","hadUserProjectDepartmentId","isHadUserProjectDepartment","departmentNum","onShow","getSystem","uni","getStorage","key","success","res","id","findUser","then","console","log","records","getAllDepartment","queryUserProjectDepartment","fail","url","onLoad","e","changeUserIdRoleId","parseInt","userId","roleId","methods","getSystemInfo","windowWidth","request","method","department","arry","i","push","departmentName","catch","error","showToast","icon","title","duration","updateUserRoleId","userProjectRoleUpdateBatch","dataType","navigateBack","delta","addUserDepartmentId","departmentId","userProjectDepartmentAdd","hideLoading","updateUserProjectDepartment","project","showLoading","userProjectDepartmentQuery","length","submitChange","openId","detail","formId","deleteUserProjectDepartment","inputDeparment","departName","value","reg","test","inputTaskOrderName","queryDepartment","callback","departmentQuery","code","Error","queryDepartmentNum","addDepartment","jude","jude2","departmentAdd","userProjectDepartmentDeleteBatch","rolePickerChange","index","departmentPickerChange"],"mappings":"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","file":"pages/changeUserRole/changeUserRole.js","sourcesContent":["import { render, staticRenderFns } from \"./changeUserRole.vue?vue&type=template&id=a5c55ea4&\"\nimport script from \"./changeUserRole.vue?vue&type=script&lang=js&\"\nexport * from \"./changeUserRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changeUserRole.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\谷歌下载内容保存地\\\\HbuiderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('a5c55ea4', component.options)\n    } else {\n      api.reload('a5c55ea4', component.options)\n    }\n    module.hot.accept(\"./changeUserRole.vue?vue&type=template&id=a5c55ea4&\", function () {\n      api.rerender('a5c55ea4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"个人信息/agile/pages/changeUserRole/changeUserRole.vue\"\nexport default component.exports","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=template&id=a5c55ea4&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst login = require('../../static/utils/utils').Login;\nconst query = require('../../static/utils/utils').Query;\nconst Login = new login();\nconst Query = new query();\nimport {userProjectRoleUpdateBatch,\n        getAllDepartment,\n\t\tuserProjectDepartmentAdd,\n\t\tuserProjectDepartmentQuery,\n\t\tupdateUserProjectDepartment,\n\t\tdepartmentAdd,\n\t\tuserProjectDepartmentDeleteBatch,\n\t\tdepartmentQuery\n\t\t} from '../../static/utils/api.js';\nimport {addFormId} from '../../static/utils/utils.js';\nvar _this;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t   pickerWidth:\"\",                         //picker的长度\n\t\t   inputWidth:\"\",                     \t\t\t \n\t\t   userInfo:\" \",\n\t\t   projectId:\"\",\n\t\t   beChangeUserId:\"\",           //改变的权限的用户的id\n\t\t   beChangeUserRoleId:\"\",         //原本的用户的权限\n\t\t   beChangeUserProjectRoleId:\"\",  //t_user_project_role这张表中的id 用于更新权限用的\n\t\t   \n\t\t   roleArry:[2,3,4],          //可选的权限\n\t\t   departmentArry:[],         //存放目前所有专业的专业名称\n\t\t   isDisplay:false,          //是否显示新增专业的列表\n\t\t   newDepartment:\"\",         //输入新增的专业\n\t\t   allDepartmentArry:[],      //存放所有的专业的信息，包括专业的id、专业的名字。\n\t\t   \n\t\t    \n\t\t   hadDepartment:\"\"         ,//查询到的用户已经有的专业\n\t\t   hadDepartmentId:\"\"        ,//查询到的原本已经有的departmentId\n\t\t   hadUserProjectDepartmentId:\"\"  ,//查询到原本已经有的t_user_project_department那张表的id用于更新用\n\t\t   \n\t\t   isHadUserProjectDepartment:false,    //判断这个用户之前有没有这个字段在t_user_project_department中\n\t\t   \n\t\t   departmentNum:\"\",                   //新增专业输入的标识号\n\t\t}\n\t},\n\tonShow(){\n\t\t_this = this;\n\t\t_this.getSystem();\n\t\tuni.getStorage({\n\t\t\tkey:\"userInfo\",\n\t\t\tsuccess:(res)=>{\n\t\t\t\tlet id = {\n\t\t\t\t\tid:res.data.id\n\t\t\t\t}\n\t\t\t\tQuery.findUser(id)\n\t\t\t\t.then(data=>{\n\t\t\t\t\tconsole.log(\"用户信息\",data.data)\n\t\t\t\t\t   _this.userInfo = data.data.records[0];\n\t\t\t\t\t   uni.getStorage({\n\t\t\t\t\t  \t \tkey:\"nowInProject\",\n\t\t\t\t\t  \t \tsuccess:(res)=>{\n\t\t\t\t\t  \t \t\t_this.projectId = res.data.projectId;\n\t\t\t\t\t\t\t\t_this.getAllDepartment();             //获取所有的专业\n\t\t\t\t\t\t\t\t_this.queryUserProjectDepartment();   //查询该用户目前的专业\n\t\t\t\t\t  \t \t}\n\t\t\t\t\t  \t })\t\n\t\t\t\t\t })\n\t\t\t},\n\t\t\tfail:()=>{\n\t\t\t\turl:'../login/login'\n\t\t\t}\n\t\t})\n\t},\n\t\n\tonLoad(e){\n\t\t_this = this;\n\t\tlet changeUserIdRoleId = e;\n\t\tconsole.log(e)\n\t\t_this.beChangeUserId = parseInt(changeUserIdRoleId.userId);\n\t\t_this.beChangeUserRoleId = parseInt(changeUserIdRoleId.roleId);\n\t\t_this.beChangeUserProjectRoleId = parseInt(changeUserIdRoleId.id);\n\t\tconsole.log(_this.beChangeUserId,_this.beChangeUserRoleId,_this.beChangeUserProjectRoleId)\n\t},\n\t\n\tmethods: {\t\n\t\t\n\t\t\n\t\t//获取系统的信息设置picker的长度\n\t\tgetSystem:function(){\n\t\t\t_this = this;\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t_this.pickerWidth = parseInt(res.windowWidth)-60;\n\t\t\t\t\t_this.inputWidth = parseInt(res.windowWidth)-100;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t//获取目前所有的专业名称存放到departmentArry中供选择,所有专业的信息放到allDepartmentArry中\n\t\tgetAllDepartment:function(){\n\t\t   _this = this;\n\t\t   uni.request({\n\t\t   \t url:getAllDepartment,\n\t\t\t method:\"GET\",\n\t\t   })\n\t\t   .then(data=>{\n\t\t\t   console.log(\"获取到的所有的专业\",data[1].data.data);\n\t\t\t   let department = data[1].data.data;\n\t\t\t   _this.allDepartmentArry = department;\n\t\t\t   let arry = [];\n\t\t\t  for(var i in department){\n\t\t\t\t  arry.push(department[i].departmentName)\n\t\t\t  }\n\t\t\t   _this.departmentArry = arry;\n\t\t    })\n\t\t\t.catch(error=>{\n\t\t\tuni.showToast({\n\t\t\t\ticon:\"loading\",\n\t\t\t\ttitle:\"获取失败\",\n\t\t\t\tduration:1000\n\t\t\t })\n\t\t  })\n\t\t},\n\t\t\n\t\t\n\t\t//改变用户对应的projectId的权限\n\t\tupdateUserRoleId:function(){\n\t\t\tlet data = {\n\t\t\t\t    id:_this.beChangeUserProjectRoleId,\n\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\troleId:_this.beChangeUserRoleId,\n\t\t\t\t\tprojectId:_this.projectId\n\t\t\t};\n\t\t\tconsole.log(\"url\",userProjectRoleUpdateBatch)\n\t\t\tconsole.log(\"提交修改权限的信息\",data)\n\t\t\t_this = this; \n\t\t    uni.request({\n\t\t    \turl:userProjectRoleUpdateBatch,\n\t\t\t\tmethod:'POST',\n\t\t\t\tdata:[{\n\t\t\t\t\tid:_this.beChangeUserProjectRoleId,\n\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\troleId:_this.beChangeUserRoleId,\n\t\t\t\t\tprojectId:_this.projectId\n\t\t\t\t}],\n\t\t\t\tdataType:'json'\n\t\t    })\n\t\t\t.then(data=>{ \n\t\t\t\tconsole.log(\"更新成功\",data)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle:\"提交成功\",\n\t\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\t\tduration:500,\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\tdelta:1\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\n\t    \n\t  //在t_user_project_department中增加projectId对应departmentId  \n\t  addUserDepartmentId:function(){\n\t\t  _this = this;\n\t\t  let data = {\n\t\t\t  userId:_this.beChangeUserId,\n\t\t\t  departmentId:_this.hadDepartmentId, \n\t\t\t  projectId:_this.projectId\n\t\t  };\n\t\t  console.log(\"提交修改专业的信息\",data)\n\t\t  uni.request({\n\t\t  \turl:userProjectDepartmentAdd,\n\t\t\tmethod:\"POST\",\n\t\t\tdata:{ \n\t\t\t\t\"departmentId\": _this.hadDepartmentId,\n\t\t\t\t\"projectId\": _this.projectId,\n\t\t\t    \"userId\": _this.beChangeUserId\n\t\t\t},\n\t\t\tdataType:'json'\n\t\t  })\n\t\t  .then(data=>{\n\t\t\t uni.hideLoading();\n\t\t\t console.log(\"新增成功\",data);\n\t\t\t uni.showToast({\n\t\t\t \ttitle:\"修改成功\",\n\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\tduration:500\n\t\t\t })\n\t\t  })\n\t  },\n\t  \n\t  //在已经有t_user_project_department的情况下进行修改\n\t  updateUserProjectDepartment:function(){\n\t\t  console.log(\"提交的更新的信息\",[{\n\t\t\t\t\t\tid:_this.hadUserProjectDepartmentId,\n\t\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\t\tproject:_this.projectId,\n\t\t\t\t\t\tdepartmentId:_this.hadDepartmentId \n\t\t\t\t\t}])\n\t\t  uni.showLoading({\n\t\t  \ttitle:\"修改中\",\n\t\t\tsuccess:()=>{\n\t\t\t\tuni.request({\n\t\t\t\t\turl:updateUserProjectDepartment,\n\t\t\t\t\tdata:[{\n\t\t\t\t\t\tid:_this.hadUserProjectDepartmentId,\n\t\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\t\tproject:_this.projectId,\n\t\t\t\t\t\tdepartmentId:_this.hadDepartmentId \n\t\t\t\t\t}],\n\t\t\t\t\tmethod:'POST',\n\t\t\t\t\tsuccess:(data)=>{\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tconsole.log(\"存在信息，进行更新\",data);\n\t\t\t\t\t\t uni.showToast({\n\t\t\t\t\t\t\ttitle:\"修改成功\",\n\t\t\t\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\t\t\t\tduration:500,\n\t\t\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\tdelta:1,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t },\n\t\t\t fail:()=>{\n\t\t\t\t uni.showToast({\n\t\t\t\t \ttitle:\"网络连接错误\",\n\t\t\t\t\tduration:1000,\n\t\t\t\t\ticon:\"loading\"\n\t\t\t\t })\n\t\t\t }\n\t\t  })\n\t  },\n\t  \n\t  //查询t_user_project_department中用户的专业        \n\t  queryUserProjectDepartment:function(){\n\t\t  _this = this;\n\t\t  console.log(\"查询的项目的id\",_this.projectId,_this.beChangeUserId)\n\t\t  uni.request({\n\t\t  \turl:userProjectDepartmentQuery,\n\t\t\tdata:{\n\t\t\t  userId:_this.beChangeUserId,\n\t\t\t  projectId:_this.projectId\n\t\t\t},\n\t\t\tdataType:'json',\n\t\t\tmethod:\"POST\"\n\t\t  })\n\t\t  .then(data=>{\n\t\t\t  console.log(data);\n\t\t\t  console.log(\"查找到的用户项目专业信息\",data[1].data.data.records);\n\t\t\t  let department = data[1].data.data.records;\n\t\t\t  if(department.length){\n\t\t\t\t  console.log()\n\t\t\t\t  _this.hadUserProjectDepartmentId = data[1].data.data.records[0].id;\n\t\t\t\t  _this.isHadUserProjectDepartment = true;\n\t\t\t\t  let departmentId = data[1].data.data.records[0].departmentId;\n\t\t\t\t _this.hadDepartmentId = departmentId;\n\t\t\t\t for(var i in _this.allDepartmentArry){\n\t\t\t\t \t if(departmentId === _this.allDepartmentArry[i].id){\n\t\t\t\t \t\t  _this.hadDepartment = _this.allDepartmentArry[i].departmentName\n\t\t\t\t\t\t  console.log(_this.hadDepartment)\n\t\t\t\t \t }\n\t\t\t\t }  \n\t\t\t  }else{\n\t\t\t\t  _this.hadDepartment = \"\";\n\t\t\t\t  _this.isHadUserProjectDepartment = false;\n\t\t\t\t  _this.hadUserProjectDepartmentId = \"\";\n\t\t\t  }\n\t\t\t \n\t\t  })\n\t  },\n\t  \n\t  \n\t  \n\t  //提交更改的时候\n\t  submitChange:function(e){\n\t\t  _this = this;\n\t\t  addFormId(_this.userInfo.openId,e.detail.formId);\n\t\t  if(_this.hadDepartmentId&&_this.beChangeUserRoleId===2){\n\t\t\t uni.showLoading({\n\t\t\t \t title:\"提交中\",\n\t\t\t \t success:()=>{\n\t\t\t \t\t   if(_this.isHadUserProjectDepartment){ //已经有的字段，进行更新\n\t\t\t\t\t\t   _this.updateUserProjectDepartment();\n\t\t\t\t\t   }else{  //没有字段调用插入\n\t\t\t\t\t       console.log(\"进行字段的插入\")\n\t\t\t\t\t\t   _this.addUserDepartmentId();\n\t\t\t\t\t   }\n\t\t\t \t }\n\t\t\t }) \n\t\t  }\n\t\t  if(_this.isHadUserProjectDepartment&&_this.beChangeUserRoleId===3){   //权限被改变为3并且已经有对应专业时直接删除t_user_project_department中的数据\n\t\t\t  _this.deleteUserProjectDepartment();\n\t\t  }\n\t\t  if(_this.beChangeUserRoleId){        //单改变权限\n\t\t\t   uni.showLoading({\n\t\t\t  \t title:\"提交中\",\n\t\t\t  \t success:()=>{ \n\t\t\t  \t\t   _this.updateUserRoleId();     //改变roleId\n\t\t\t  \t }\n\t\t\t  }) \n\t\t  }\n\t\t  else{\n\t\t\t uni.showToast({\n\t\t\t \tduration:1000,\n\t\t\t\ticon:\"none\",\n\t\t\t\ttitle:\"请完善信息\"\n\t\t\t })\n\t\t  }\n\t  },\n\t  \n\t   \n\t   //输入专业\n\t   inputDeparment:function(e){\n\t\t  let departName = e.detail.value;\n\t\t  let reg = /^[\\u4e00-\\u9fa5]+$/;    //匹配中文\n\t\t  if(reg.test(departName)){\n\t\t\t  this.newDepartment = departName;\n\t\t  }else{\n\t\t\t  uni.showToast({\n\t\t\t  \ttitle:\"信息有误\",\n\t\t\t\tduration:1000,\n\t\t\t\ticon:\"none\"\n\t\t\t  })\n\t\t  }\n\t   },\n\t   \n\t   //输入标识字母\n\t   inputTaskOrderName:function(e){\n\t   \t_this = this;\n\t   \tlet departmentNum = e.detail.value;\n\t       let reg = /^[A-Z]$/g;\n\t   \tif(reg.test(departmentNum)&&departmentNum.length===1){\n\t   \t\t_this.departmentNum = departmentNum;\n\t   \t}else{\n\t   \t\t_this.departmentNum = \"\";\n\t   \t\tuni.showToast({\n\t   \t\t\ttitle:\"输入有误\",\n\t   \t\t\tduration:500,\n\t   \t\t\ticon:\"none\"\n\t   \t\t})\n\t   \t }\n\t   },\n\t   \n\t   //查询是否已存在该专业\n\t   queryDepartment:function(callback){\n\t\t   _this = this;\n\t\t   let departmentName = _this.newDepartment;\n\t\t   uni.request({\n\t\t   \turl:departmentQuery,\n\t\t\tmethod:\"POST\",\n\t\t\tdata:{\n\t\t\t\tdepartmentName:departmentName\n\t\t\t},\n\t\t\tdataType:'json'\n\t\t   })\n\t\t   .then(data=>{\n\t\t\t   if(data[1].data.data.records.length&&data[1].data.code===200){\n\t\t\t\t   uni.showToast({\n\t\t\t\t   \ttitle:\"已有该专业\",\n\t\t\t\t\tduration:500,\n\t\t\t\t\ticon:\"none\"\n\t\t\t\t   })\n\t\t\t   }else{\n\t\t\t\t   callback(true)\n\t\t\t   }\n\t\t   })\n\t\t   .catch(Error=>{\n\t\t\t   console.log(Error);\n\t\t\t   uni.showToast({\n\t\t\t   \ttitle:'网络错误',\n\t\t\t\tduration:500,\n\t\t\t\ticon:\"loading\"\n\t\t\t   })\n\t\t   })\n\t   },\n\t   \n\t   //查找是否已有该标识号\n\t   queryDepartmentNum:function(callback){\n\t\t   _this = this;\n\t\t   uni.request({\n\t\t   \t    url:departmentQuery,\n\t\t\t\tmethod:\"POST\",\n\t\t\t\tdata:{\n\t\t\t\t\tdepartmentNum:_this.departmentNum,\n\t\t\t\t},\n\t\t\t\tdataType:'json'\n\t\t   })\n\t\t   .then(data=>{\n\t\t\t   console.log(\"查询的标识号\",data)\n\t\t\t   if(data[1].data.data.records.length&&data[1].data.code===200){\n\t\t\t\t   uni.showToast({\n\t\t\t\t\ttitle:\"已有该标识号\",\n\t\t\t\t\tduration:500,\n\t\t\t\t\ticon:\"none\"\n\t\t\t\t   })\n\t\t\t   }else{\n\t\t\t\t   callback(true)\n\t\t\t   }\n\t\t   })\n\t\t   .catch(Error=>{\n\t\t\t   console.log(Error);\n\t\t\t   uni.showToast({\n\t\t\t\ttitle:'网络错误',\n\t\t\t\tduration:500,\n\t\t\t\ticon:\"loading\"\n\t\t\t   })\n\t\t   })\n\t   },\n\t\t \n\t   //确认新增专业   ---\n\t   addDepartment:function(e){\n\t\t   _this = this;\n\t\t   console.log(e);\n\t\t   addFormId(_this.userInfo.openId,e.detail.formId)\n\t\t   if(_this.departmentNum&&_this.newDepartment&&_this.newDepartment.length<=4){ \n              _this.queryDepartment(jude=>{                  //查询是否有该专业\n\t\t\t\t  if(jude){ \n\t\t\t\t\t  _this.queryDepartmentNum(jude2=>{           //查询是否有该专业标号\n\t\t\t\t\t\t  if(jude2){\n\t\t\t\t\t\t\t  \tuni.showLoading({\n\t\t\t\t\t\t\t  \ttitle:\"添加中\",\n\t\t\t\t\t\t\t    success:()=>{ \n\t\t\t\t\t\t\t\t uni.request({\n\t\t\t\t\t\t\t\t\turl:departmentAdd,\n\t\t\t\t\t\t\t\t\tmethod:\"POST\",\n\t\t\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\t\t\tdepartmentName:_this.newDepartment,\n\t\t\t\t\t\t\t\t\t\tdepartmentNum:_this.departmentNum\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tdataType:'josn'\n\t\t\t\t\t\t\t\t })\n\t\t\t\t\t\t\t\t .then(data=>{ //新增专业成功，在此调用获取所有专业的函数\n\t\t\t\t\t\t\t\t\t uni.hideLoading();\n\t\t\t\t\t\t\t\t\t console.log(data)\n\t\t\t\t\t\t\t\t\t_this.getAllDepartment();\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle:\"新增成功\",\n\t\t\t\t\t\t\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\t\t\t\t\t\t\tduration:500\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t })\n\t\t\t\t\t\t\t\t .catch(Error=>{\n\t\t\t\t\t\t\t\t\tconsole.log(Error)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle:\"添加失败\",\n\t\t\t\t\t\t\t\t\t\ticon:\"loading\",\n\t\t\t\t\t\t\t\t\t\tduration:1000\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t })\n\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t  })  \n\t\t\t\t\t\t  }\n\t\t\t\t\t  })\n\t\t\t\t  }\n\t\t\t })\n\t\t   }else{\n\t\t\t  uni.showToast({\n\t\t\t  \ttitle:\"请按照要求填入专业\",\n\t\t\t\tduration:1000,\n\t\t\t\ticon:'none'\n\t\t\t  })\n\t\t   }\n\t   },\n\t   \n\t   //权限被改变为3的时候直接删除t_user_project_department里面的字段\n\t   deleteUserProjectDepartment:function(){\n\t\t   _this = this;\n\t\t   let arry = [];\n\t\t   arry.push(_this.hadUserProjectDepartmentId);\n\t\t   uni.showLoading({\n\t\t   \ttitle:\"提交中\",\n\t\t\tsuccess:()=>{\n\t\t\t  uni.request({\n\t\t\t  \turl:userProjectDepartmentDeleteBatch,\n\t\t\t\tdata:arry,\n\t\t\t\tmethod:\"POST\",\n\t\t\t\tdataType:'json'\n\t\t\t  })\n\t\t\t  .then(data=>{\n\t\t\t\t  console.log(\"删除成功\")\n\t\t\t  })\n\t\t\t  .catch(Error=>{\n\t\t\t\t  console.log(Error);\n\t\t\t\t  uni.showToast({\n\t\t\t\t  \ttitle:\"网络错误\",\n\t\t\t\t\tduration:500,\n\t\t\t\t\ticon:\"loading\",\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\tdelta:1,\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t  })\n\t\t\t  })\n\t\t\t }\n\t\t   })\n\t   },\n\t   \n\t   //选择权限的改变\n\t   rolePickerChange:function(e){\n\t\t   let index = e.detail.value;\n\t\t   console.log(\"选中的roleId\",this.roleArry[index]);\n\t\t   this.beChangeUserRoleId = this.roleArry[index];\n\t   },\n\t   \n\t   //专业改变的时候\n\t   departmentPickerChange:function(e){\n\t\t   let index = e.detail.value;\n\t\t   console.log(\"选中的department名字\",this.departmentArry[index]);\n\t\t   this.hadDepartment = this.departmentArry[index];\n\t\t   for(var i in this.allDepartmentArry){\n\t\t\t   if(this.departmentArry[index] === this.allDepartmentArry[i].departmentName){\n\t\t\t\t   this.hadDepartmentId = this.allDepartmentArry[i].id;\n\t\t\t   }\n\t\t   }\n\t\t   console.log(\"选中的departmentId\",this.hadDepartmentId)\n\t\t   \n\t   },\n\t   \n\t   \n   }\n   \n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}