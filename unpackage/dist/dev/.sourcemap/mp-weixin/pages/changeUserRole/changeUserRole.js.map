{"version":3,"sources":["webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?8ad5","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?8271","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?34a0","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?f676","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?c019","webpack:///F:/个人信息/agile/pages/changeUserRole/changeUserRole.vue?580f"],"names":["login","require","Login","query","Query","_this","data","pickerWidth","inputWidth","userInfo","projectId","beChangeUserId","beChangeUserRoleId","beChangeUserProjectRoleId","roleArry","departmentArry","isDisplay","newDepartment","allDepartmentArry","hadDepartment","hadDepartmentId","hadUserProjectDepartmentId","isHadUserProjectDepartment","onShow","getSystem","uni","getStorage","key","success","res","id","findUser","then","console","log","getAllDepartment","queryUserProjectDepartment","fail","url","onLoad","e","changeUserIdRoleId","parseInt","userId","roleId","methods","getSystemInfo","windowWidth","request","method","department","arry","i","push","name","catch","error","showToast","icon","title","duration","updateUserRoleId","userProjectRoleUpdateBatch","dataType","hideLoading","addUserDepartmentId","departmentId","userProjectDepartmentAdd","navigateBack","delta","updateUserProjectDepartment","project","showLoading","userProjectDepartmentQuery","records","length","submitChange","openId","detail","formId","deleteUserProjectDepartment","inputDeparment","departName","value","reg","test","addDepartment","departmentAdd","userProjectDepartmentDeleteBatch","Error","rolePickerChange","index","departmentPickerChange"],"mappings":"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","file":"pages/changeUserRole/changeUserRole.js","sourcesContent":["import { render, staticRenderFns } from \"./changeUserRole.vue?vue&type=template&id=a5c55ea4&\"\nimport script from \"./changeUserRole.vue?vue&type=script&lang=js&\"\nexport * from \"./changeUserRole.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changeUserRole.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\谷歌下载内容保存地\\\\HbuiderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('a5c55ea4', component.options)\n    } else {\n      api.reload('a5c55ea4', component.options)\n    }\n    module.hot.accept(\"./changeUserRole.vue?vue&type=template&id=a5c55ea4&\", function () {\n      api.rerender('a5c55ea4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"个人信息/agile/pages/changeUserRole/changeUserRole.vue\"\nexport default component.exports","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./changeUserRole.vue?vue&type=template&id=a5c55ea4&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst login = require('../../static/utils/utils').Login;\nconst query = require('../../static/utils/utils').Query;\nconst Login = new login();\nconst Query = new query();\nimport {userProjectRoleUpdateBatch,\n        getAllDepartment,\n\t\tuserProjectDepartmentAdd,\n\t\tuserProjectDepartmentQuery,\n\t\tupdateUserProjectDepartment,\n\t\tdepartmentAdd,\n\t\tuserProjectDepartmentDeleteBatch\n\t\t} from '../../static/utils/api.js';\nimport {addFormId} from '../../static/utils/utils.js';\nvar _this;\nexport default {\n\tdata() {\n\t\treturn {\n\t\t   pickerWidth:\"\",                         //picker的长度\n\t\t   inputWidth:\"\",                     \t\t\t \n\t\t   userInfo:\" \",\n\t\t   projectId:\"\",\n\t\t   beChangeUserId:\"\",           //改变的权限的用户的id\n\t\t   beChangeUserRoleId:\"\",         //原本的用户的权限\n\t\t   beChangeUserProjectRoleId:\"\",  //t_user_project_role这张表中的id 用于更新权限用的\n\t\t   \n\t\t   roleArry:[2,3,4],          //可选的权限\n\t\t   departmentArry:[],         //存放目前所有专业的专业名称\n\t\t   isDisplay:false,          //是否显示新增专业的列表\n\t\t   newDepartment:\"\",         //输入新增的专业\n\t\t   allDepartmentArry:[],      //存放所有的专业的信息，包括专业的id、专业的名字。\n\t\t   \n\t\t    \n\t\t   hadDepartment:\"\"         ,//查询到的用户已经有的专业\n\t\t   hadDepartmentId:\"\"        ,//查询到的原本已经有的departmentId\n\t\t   hadUserProjectDepartmentId:\"\"  ,//查询到原本已经有的t_user_project_department那张表的id用于更新用\n\t\t   \n\t\t   isHadUserProjectDepartment:false,    //判断这个用户之前有没有这个字段在t_user_project_department中\n\t\t}\n\t},\n\tonShow(){\n\t\t_this = this;\n\t\t_this.getSystem();\n\t\tuni.getStorage({\n\t\t\tkey:\"userInfo\",\n\t\t\tsuccess:(res)=>{\n\t\t\t\tlet id = {\n\t\t\t\t\tid:res.data.id\n\t\t\t\t}\n\t\t\t\tQuery.findUser(id)\n\t\t\t\t.then(data=>{\n\t\t\t\t\tconsole.log(\"用户信息\",data.data)\n\t\t\t\t\t   _this.userInfo = data.data;\n\t\t\t\t\t   uni.getStorage({\n\t\t\t\t\t  \t \tkey:\"nowInProject\",\n\t\t\t\t\t  \t \tsuccess:(res)=>{\n\t\t\t\t\t  \t \t\t_this.projectId = res.data.projectId;\n\t\t\t\t\t\t\t\t_this.getAllDepartment();             //获取所有的专业\n\t\t\t\t\t\t\t\t_this.queryUserProjectDepartment();   //查询该用户目前的专业\n\t\t\t\t\t  \t \t}\n\t\t\t\t\t  \t })\t\n\t\t\t\t\t })\n\t\t\t},\n\t\t\tfail:()=>{\n\t\t\t\turl:'../login/login'\n\t\t\t}\n\t\t})\n\t},\n\t\n\tonLoad(e){\n\t\t_this = this;\n\t\tlet changeUserIdRoleId = e;\n\t\tconsole.log(e)\n\t\t_this.beChangeUserId = parseInt(changeUserIdRoleId.userId);\n\t\t_this.beChangeUserRoleId = parseInt(changeUserIdRoleId.roleId);\n\t\t_this.beChangeUserProjectRoleId = parseInt(changeUserIdRoleId.id);\n\t\tconsole.log(_this.beChangeUserId,_this.beChangeUserRoleId,_this.beChangeUserProjectRoleId)\n\t},\n\t\n\tmethods: {\t\n\t\t\n\t\t//获取系统的信息设置picker的长度\n\t\tgetSystem:function(){\n\t\t\t_this = this;\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t_this.pickerWidth = parseInt(res.windowWidth)-60;\n\t\t\t\t\t_this.inputWidth = parseInt(res.windowWidth)-100;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t\n\t\t//获取目前所有的专业名称存放到departmentArry中供选择,所有专业的信息放到allDepartmentArry中\n\t\tgetAllDepartment:function(){\n\t\t   _this = this;\n\t\t   uni.request({\n\t\t   \t url:getAllDepartment,\n\t\t\t method:\"GET\",\n\t\t   })\n\t\t   .then(data=>{\n\t\t\t   console.log(\"获取到的所有的专业\",data[1].data.data);\n\t\t\t   let department = data[1].data.data;\n\t\t\t   _this.allDepartmentArry = department;\n\t\t\t   let arry = [];\n\t\t\t  for(var i in department){\n\t\t\t\t  arry.push(department[i].name)\n\t\t\t  }\n\t\t\t   _this.departmentArry = arry;\n\t\t    })\n\t\t\t.catch(error=>{\n\t\t\tuni.showToast({\n\t\t\t\ticon:\"loading\",\n\t\t\t\ttitle:\"获取失败\",\n\t\t\t\tduration:1000\n\t\t\t })\n\t\t  })\n\t\t},\n\t\t\n\t\t\n\t\t//改变用户对应的projectId的权限\n\t\tupdateUserRoleId:function(){\n\t\t\tlet data = {\n\t\t\t\t    id:_this.beChangeUserProjectRoleId,\n\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\troleId:_this.beChangeUserRoleId,\n\t\t\t\t\tprojectId:_this.projectId\n\t\t\t};\n\t\t\tconsole.log(\"url\",userProjectRoleUpdateBatch)\n\t\t\tconsole.log(\"提交修改权限的信息\",data)\n\t\t\t_this = this; \n\t\t    uni.request({\n\t\t    \turl:userProjectRoleUpdateBatch,\n\t\t\t\tmethod:'POST',\n\t\t\t\tdata:[{\n\t\t\t\t\tid:_this.beChangeUserProjectRoleId,\n\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\troleId:_this.beChangeUserRoleId,\n\t\t\t\t\tprojectId:_this.projectId\n\t\t\t\t}],\n\t\t\t\tdataType:'json'\n\t\t    })\n\t\t\t.then(data=>{ \n\t\t\t\tconsole.log(\"更新成功\",data)\n\t\t\t\tuni.hideLoading();\n\t\t\t})\n\t\t},\n\t\n\t    \n\t  //在t_user_project_department中增加projectId对应departmentId  \n\t  addUserDepartmentId:function(){\n\t\t  _this = this;\n\t\t  let data = {\n\t\t\t  userId:_this.beChangeUserId,\n\t\t\t  departmentId:_this.hadDepartmentId, \n\t\t\t  projectId:_this.projectId\n\t\t  };\n\t\t  console.log(\"提交修改专业的信息\",data)\n\t\t  uni.request({\n\t\t  \turl:userProjectDepartmentAdd,\n\t\t\tmethod:\"POST\",\n\t\t\tdata:{ \n\t\t\t\t\"departmentId\": _this.hadDepartmentId,\n\t\t\t\t\"projectId\": _this.projectId,\n\t\t\t    \"userId\": _this.beChangeUserId\n\t\t\t},\n\t\t\tdataType:'json'\n\t\t  })\n\t\t  .then(data=>{\n\t\t\t uni.hideLoading();\n\t\t\t console.log(\"新增成功\",data);\n\t\t\t uni.showToast({\n\t\t\t \ttitle:\"修改成功\",\n\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\tduration:500,\n\t\t\t\tsuccess:()=>{\n\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\tdelta:1,\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t })\n\t\t  })\n\t  },\n\t  \n\t  //在已经有t_user_project_department的情况下进行修改\n\t  updateUserProjectDepartment:function(){\n\t\t  console.log(\"提交的更新的信息\",[{\n\t\t\t\t\t\tid:_this.hadUserProjectDepartmentId,\n\t\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\t\tproject:_this.projectId,\n\t\t\t\t\t\tdepartmentId:_this.hadDepartmentId \n\t\t\t\t\t}])\n\t\t  uni.showLoading({\n\t\t  \ttitle:\"修改中\",\n\t\t\tsuccess:()=>{\n\t\t\t\tuni.request({\n\t\t\t\t\turl:updateUserProjectDepartment,\n\t\t\t\t\tdata:[{\n\t\t\t\t\t\tid:_this.hadUserProjectDepartmentId,\n\t\t\t\t\t\tuserId:_this.beChangeUserId,\n\t\t\t\t\t\tproject:_this.projectId,\n\t\t\t\t\t\tdepartmentId:_this.hadDepartmentId \n\t\t\t\t\t}],\n\t\t\t\t\tmethod:'POST',\n\t\t\t\t\tsuccess:(data)=>{\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tconsole.log(\"存在信息，进行更新\",data);\n\t\t\t\t\t\t uni.showToast({\n\t\t\t\t\t\t\ttitle:\"修改成功\",\n\t\t\t\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\t\t\t\tduration:500,\n\t\t\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\t\tdelta:1,\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t },\n\t\t\t fail:()=>{\n\t\t\t\t uni.showToast({\n\t\t\t\t \ttitle:\"网络连接错误\",\n\t\t\t\t\tduration:1000,\n\t\t\t\t\ticon:\"loading\"\n\t\t\t\t })\n\t\t\t }\n\t\t  })\n\t  },\n\t  \n\t  //查询t_user_project_department中用户的专业        //目前出了问题\n\t  queryUserProjectDepartment:function(){\n\t\t  _this = this;\n\t\t  console.log(\"查询的项目的id\",_this.projectId)\n\t\t  uni.request({\n\t\t  \turl:userProjectDepartmentQuery,\n\t\t\tdata:{\n\t\t\t  userId:_this.beChangeUserId,\n\t\t\t  project:_this.projectId\n\t\t\t},\n\t\t\tdataType:'json',\n\t\t\tmethod:\"POST\"\n\t\t  })\n\t\t  .then(data=>{\n\t\t\t  console.log(data);\n\t\t\t  console.log(\"查找到的用户项目专业信息\",data[1].data.data.records);\n\t\t\t  let department = data[1].data.data.records;\n\t\t\t  if(department.length){\n\t\t\t\t  console.log()\n\t\t\t\t  _this.hadUserProjectDepartmentId = data[1].data.data.records[0].id;\n\t\t\t\t  _this.isHadUserProjectDepartment = true;\n\t\t\t\t  let departmentId = data[1].data.data.records[0].departmentId;\n\t\t\t\t _this.hadDepartmentId = departmentId;\n\t\t\t\t for(var i in _this.allDepartmentArry){\n\t\t\t\t \t if(departmentId === _this.allDepartmentArry[i].id){\n\t\t\t\t \t\t  _this.hadDepartment = _this.allDepartmentArry[i].name\n\t\t\t\t\t\t  console.log(_this.hadDepartment)\n\t\t\t\t \t }\n\t\t\t\t }  \n\t\t\t  }else{\n\t\t\t\t  _this.hadDepartment = \"\";\n\t\t\t\t  _this.isHadUserProjectDepartment = false;\n\t\t\t\t  _this.hadUserProjectDepartmentId = \"\";\n\t\t\t  }\n\t\t\t \n\t\t  })\n\t  },\n\t  \n\t  \n\t  \n\t  //提交更改的时候\n\t  submitChange:function(e){\n\t\t  _this = this;\n\t\t  addFormId(_this.userInfo.openId,e.detail.formId);\n\t\t  if(_this.hadDepartmentId&&_this.beChangeUserRoleId===2){\n\t\t\t uni.showLoading({\n\t\t\t \t title:\"提交中\",\n\t\t\t \t success:()=>{\n\t\t\t \t\t   if(_this.isHadUserProjectDepartment){ //已经有的字段，进行更新\n\t\t\t\t\t\t   _this.updateUserProjectDepartment();\n\t\t\t\t\t   }else{  //没有字段调用插入\n\t\t\t\t\t       console.log(\"进行字段的插入\")\n\t\t\t\t\t\t   _this.addUserDepartmentId();\n\t\t\t\t\t   }\n\t\t\t \t }\n\t\t\t }) \n\t\t  }\n\t\t  if(_this.isHadUserProjectDepartment&&_this.beChangeUserRoleId===3){   //权限被改变为3并且已经有对应专业时直接删除t_user_project_department中的数据\n\t\t\t  _this.deleteUserProjectDepartment();    \n\t\t  }\n\t\t  if(_this.beChangeUserRoleId){       //改变权限\n\t\t\t   uni.showLoading({\n\t\t\t  \t title:\"提交中\",\n\t\t\t  \t success:()=>{\n\t\t\t  \t\t   _this.updateUserRoleId();  //改变roleId\n\t\t\t  \t }\n\t\t\t  }) \n\t\t  }\n\t\t  else{\n\t\t\t uni.showToast({\n\t\t\t \tduration:1000,\n\t\t\t\ticon:\"none\",\n\t\t\t\ttitle:\"请完善信息\"\n\t\t\t })\n\t\t  }\n\t  },\n\t  \n\t   \n\t   //输入专业\n\t   inputDeparment:function(e){\n\t\t  let departName = e.detail.value;\n\t\t  let reg = /^[\\u4e00-\\u9fa5]+$/;    //匹配中文\n\t\t  if(reg.test(departName)){\n\t\t\t  this.newDepartment = departName;\n\t\t  }else{\n\t\t\t  uni.showToast({\n\t\t\t  \ttitle:\"信息有误\",\n\t\t\t\tduration:1000,\n\t\t\t\ticon:\"none\"\n\t\t\t  })\n\t\t  }\n\t\t  \n\t   },\n\t\t \n\t   //确认新增专业   ---\n\t   addDepartment:function(){\n\t\t   _this = this;\n\t\t   addFormId(_this.userInfo.openId,e.detail.formId)\n\t\t   if(_this.newDepartment&&_this.newDepartment.length<=4){ \n\n\t\t\t  //这里添加请求新增专业\n\t\t\t  uni.showLoading({\n\t\t\t  \ttitle:\"添加中\",\n\t\t\t    success:()=>{ \n\t\t\t\t\t uni.request({\n\t\t\t\t\t\turl:departmentAdd,\n\t\t\t\t\t    method:\"POST\",\n\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\tname:_this.newDepartment\n\t\t\t\t\t\t},\n\t\t\t\t\t    dataType:'josn'\n\t\t\t\t\t })\n\t\t\t\t\t .then(data=>{ //新增专业成功，在此调用获取所有专业的函数\n\t\t\t\t\t\t uni.hideLoading();\n\t\t\t\t\t\t_this.getAllDepartment();\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:\"新增成功\",\n\t\t\t\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\t\t\t\tduration:500\n\t\t\t\t\t\t})\n\t\t\t\t\t })\n\t\t\t\t\t .catch(error=>{\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle:\"添加失败\",\n\t\t\t\t\t\t\ticon:\"loading\",\n\t\t\t\t\t\t\tduration:1000\n\t\t\t\t\t\t})\n\t\t\t\t\t })\n\t\t\t\t}\n\t\t\t  })\n\t\t   }else{\n\t\t\t  uni.showToast({\n\t\t\t  \ttitle:\"请按照要求填入专业\",\n\t\t\t\tduration:1000,\n\t\t\t\ticon:'none'\n\t\t\t  })\n\t\t   }\n\t   },\n\t   \n\t   //权限被改变为3的时候直接删除t_user_project_department里面的字段\n\t   deleteUserProjectDepartment:function(){\n\t\t   _this = this;\n\t\t   let arry = [];\n\t\t   arry.push(_this.hadUserProjectDepartmentId);\n\t\t   uni.showLoading({\n\t\t   \ttitle:\"提交中\",\n\t\t\tsuccess:()=>{\n\t\t\t  uni.request({\n\t\t\t  \turl:userProjectDepartmentDeleteBatch,\n\t\t\t\tdata:arry,\n\t\t\t\tmethod:\"POST\",\n\t\t\t\tdataType:'json'\n\t\t\t  })\n\t\t\t  .then(data=>{\n\t\t\t\t  console.log(\"删除成功\")\n\t\t\t\t  uni.showToast({\n\t\t\t\t  \ttitle:\"提交成功\",\n\t\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\t\tduration:500,\n\t\t\t\t  })\n\t\t\t  })\n\t\t\t  .catch(Error=>{\n\t\t\t\t  console.log(Error);\n\t\t\t\t  uni.showToast({\n\t\t\t\t  \ttitle:\"网络错误\",\n\t\t\t\t\tduration:500,\n\t\t\t\t\ticon:\"loading\"\n\t\t\t\t  })\n\t\t\t  })\n\t\t\t }\n\t\t   })\n\t   },\n\t   \n\t   //选择权限的改变\n\t   rolePickerChange:function(e){\n\t\t   let index = e.detail.value;\n\t\t   console.log(\"选中的roleId\",this.roleArry[index]);\n\t\t   this.beChangeUserRoleId = this.roleArry[index];\n\t   },\n\t   \n\t   //专业改变的时候\n\t   departmentPickerChange:function(e){\n\t\t   let index = e.detail.value;\n\t\t   console.log(\"选中的department名字\",this.departmentArry[index]);\n\t\t   this.hadDepartment = this.departmentArry[index];\n\t\t   for(var i in this.allDepartmentArry){\n\t\t\t   if(this.departmentArry[index] === this.allDepartmentArry[i].name){\n\t\t\t\t   this.hadDepartmentId = this.allDepartmentArry[i].id;\n\t\t\t   }\n\t\t   }\n\t\t   console.log(\"选中的departmentId\",this.hadDepartmentId)\n\t\t   \n\t   },\n\t   \n\t   \n   }\n   \n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}