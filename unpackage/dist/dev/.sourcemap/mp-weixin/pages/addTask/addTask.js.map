{"version":3,"sources":["webpack:///F:/个人信息/agile/pages/addTask/addTask.vue?9417","webpack:///F:/个人信息/agile/pages/addTask/addTask.vue?e8b9","webpack:///F:/个人信息/agile/pages/addTask/addTask.vue?592e","webpack:///F:/个人信息/agile/pages/addTask/addTask.vue?6d96","webpack:///F:/个人信息/agile/pages/addTask/addTask.vue","webpack:///F:/个人信息/agile/pages/addTask/addTask.vue?e53a","webpack:///F:/个人信息/agile/pages/addTask/addTask.vue?0ea1"],"names":["login","require","Login","query","Query","_this","data","inputWidth","userInfo","projectId","departmentId","taskExcuteUserId","taskChargeUserId","sprintId","workNote","taskChargeUserName","taskPriority","taskPredictTime","taskOrder","taskName","departmentName","openId","projectName","priority","index","onLoad","getSystem","onShow","uni","getStorage","key","success","res","id","findUser","then","records","getChargeUserId","getDepartmentId","findProjectNameByProjectId","fail","redirectTo","url","methods","getSystemInfo","parseInt","windowWidth","console","log","showLoading","title","findUserProjectRoleByRoleAndProject","hideLoading","userId","getChargeUserTrueName","catch","Error","showToast","duration","icon","trueName","findUserProjectDepartmentByUserIdAndProjectId","getDepartmentName","error","request","departmentQuery","method","dataType","name","projectQuery","pickerPriorityChange","e","detail","value","getNowHadTaskOrder","callback","taskSprint","pageNum","pageSize","taskQuery","taskLength","length","inputTaskOrder","target","reg","test","inputTaskName","inputTaskPredictTime","submitAddTask","mask","taskAdd","pushAddMessagePush","formId","applyTime","Date","messageSend"],"mappings":"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","file":"pages/addTask/addTask.js","sourcesContent":["import { render, staticRenderFns } from \"./addTask.vue?vue&type=template&id=2040a29c&\"\nimport script from \"./addTask.vue?vue&type=script&lang=js&\"\nexport * from \"./addTask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./addTask.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"F:\\\\谷歌下载内容保存地\\\\HbuiderX\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('2040a29c', component.options)\n    } else {\n      api.reload('2040a29c', component.options)\n    }\n    module.hot.accept(\"./addTask.vue?vue&type=template&id=2040a29c&\", function () {\n      api.rerender('2040a29c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"个人信息/agile/pages/addTask/addTask.vue\"\nexport default component.exports","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addTask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addTask.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addTask.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addTask.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../谷歌下载内容保存地/HbuiderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./addTask.vue?vue&type=template&id=2040a29c&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\tconst login = require('../../static/utils/utils').Login;\n\tconst query = require('../../static/utils/utils').Query;\n\tconst Login = new login();\n\tconst Query = new query();\n\t\n\timport {formatDate} from '../../static/utils/time.js'\n\t\n\t//引入api\n\timport {taskAdd,departmentQuery,taskQuery,messageSend,projectQuery} from '../../static/utils/api.js';\n\tvar _this;\n\t\texport default {\n\t\t\tdata() {\n\t\t\t\treturn {\n\t\t\t\t\tinputWidth:\"\",           //输入框的长度\n\t\t\t\t\t\n\t\t\t\t\tuserInfo:\"\",             \n                    projectId:\"\",           //项目的id\n\t\t\t\t\tdepartmentId:\"\",       //专业的id\n\t\t\t\t\ttaskExcuteUserId:\"\",    //执行人的id默认为该用户的id\n\t\t\t\t\ttaskChargeUserId:\"\",    //该项目的负责人的id,默认为该项目的权限1的用户的id\n\t\t\t\t\tsprintId:true,            //冲刺的id\n\t\t\t\t\tworkNote:\"\",            //任务的备注信息\n\t\t\t\t\t\n\t\t\t\t\ttaskChargeUserName:\"\",   //该项目的负责人的名字\n\t\t\t\t\ttaskPriority:\"\",        //项目的优先级（1、2、3、4）;\n\t\t\t\t    taskPredictTime:\"\",     //任务的预估时间\n\t\t\t\t\ttaskOrder:\"\",           //任务的序号，默认为真实姓名的第一个字母开头,自动获取排序号\n\t\t\t\t\ttaskName:\"\",            //任务的内容\n\t\t\t\t\t\n\t\t\t\t\tdepartmentName:\"\",      //专业的名称\n\t\t\t\t\topenId:\"\",             //项目负责人的openId\n\t\t\t\t\tprojectName:\"\",       //项目的名称\n\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t\t\n\t\t\t\t    priority:[1,2,3,4],      //优先级实现可以改变\n\t\t\t\t\tindex:\"\"                 //选择优先级的下标\n\t\t\t\t}\n\t\t\t},\n\t\t\tonLoad(){\n\t\t\t\t this.getSystem();\n\t\t\t},\n\t\t\tonShow(){\n\t\t\t\t_this = this;\n\t\t\t\tuni.getStorage({\n\t\t\t\t\tkey:\"userInfo\",\n\t\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t\tlet id = {\n\t\t\t\t\t\t\tid:res.data.id\n\t\t\t\t\t\t}\n\t\t\t\t\t\tQuery.findUser(id)\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\t//console.log(data.data.records[0]);\n\t\t\t\t\t\t\t_this.userInfo = data.data.records[0];\n\t\t\t\t\t\t\t_this.taskExcuteUserId = _this.userInfo.id;\n\t\t\t\t\t\t\t//_this.taskChargeUserName = _this.userInfo.trueName;\n\t                        uni.getStorage({\n\t                        \tkey:\"nowInProject\",\n\t\t\t\t\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t                _this.projectId = res.data.projectId;   //设置项目的id\n\t\t\t\t\t\t\t\t\tuni.getStorage({\n\t\t\t\t\t\t\t\t\t\tkey:\"sprintId\",\n\t\t\t\t\t\t\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t\t\t\t\t\t\t_this.sprintId = res.data;     //设置冲刺\n\t\t\t\t\t\t\t\t\t\t\tif(!_this.sprintId){  //没有冲刺  则显示暂无冲刺信息\n\t\t\t\t\t\t\t\t\t\t\t\t_this.sprintId = \"\";\n\t\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\t  _this.getChargeUserId();\n\t\t\t\t\t\t\t\t\t\t\t  _this.getDepartmentId(); \n\t\t\t\t\t\t\t\t\t\t\t  _this.findProjectNameByProjectId();\t\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfail:()=>{\n\t\t\t\t\t\t\t\t\t\t\t_this.sprintId = \"\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail:()=>{\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\t\t\t\turl:'../apply/apply'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t                        })\n\t\t\t\t\t\t}) \n\t\t\t\t\t},\n\t\t\t\t\tfail:()=>{\n\t\t\t\t\t\tuni.redirectTo({\n\t\t\t\t\t\t\turl:\"../login/login\"\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tmethods: {\n\t\t\t\t\n\t\t\t  //获取系统的信息设置输入框的长度,根据设置的左边的文字占的文字去计算\n\t\t\t  getSystem:function(){\n\t\t\t\t  _this = this;\n\t\t\t\t  uni.getSystemInfo({\n\t\t\t\t  \tsuccess:(res)=>{\n\t\t\t\t\t\t_this.inputWidth = parseInt(res.windowWidth)-80;\n\t\t\t\t\t}\n\t\t\t\t  })\n\t\t\t  },\t\n\t\t\t\t\n\t\t\t  //寻找该项目下的权限为1的用户即项目的负责人\n\t\t\t  getChargeUserId:function(){\n\t\t\t\t  _this = this;\n\t\t\t\t  console.log(\"项目\",_this.projectId)\n\t\t\t\t  uni.showLoading({\n\t\t\t\t  \ttitle:\"获取中\",\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tQuery.findUserProjectRoleByRoleAndProject(1,_this.projectId)\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tconsole.log(\"查询到的项目负责人的关系\",data.data.records[0]);\n\t\t\t\t\t\t\t_this.taskChargeUserId = data.data.records[0].userId;\n\t\t\t\t\t\t\t_this.getChargeUserTrueName();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(Error=>{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\t\tduration:1000,\n\t\t\t\t\t\t\t\ticon:'loading'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t  })\n\t\t\t  },\n\t\t\t  \n\t\t\t  //寻找该项目下项目负责人的真实姓名\n\t\t\t  getChargeUserTrueName:function(){\n\t\t\t\t_this = this;\n\t\t\t\tuni.showLoading({\n\t\t\t\t  \ttitle:\"获取中\",\n\t\t\t\t  \tsuccess:()=>{\n\t\t\t\t\t\tlet id = {\n\t\t\t\t\t\t\tid:_this.taskChargeUserId\n\t\t\t\t\t\t}\n\t\t\t\t  \t\tQuery.findUser(id)\n\t\t\t\t  \t\t.then(data=>{\n\t\t\t\t  \t\t    uni.hideLoading();\n\t\t\t\t  \t\t\t//console.log(data)\n\t\t\t\t  \t\t\tconsole.log(\"查询到的项目负责人的真实姓名\",data.data.records[0].trueName);\n\t\t\t\t  \t\t\t_this.taskChargeUserName = data.data.records[0].trueName;\n\t\t\t\t\t\t\t_this.openId = data.data.records[0].openId;\n\t\t\t\t  \t\t})\n\t\t\t\t  \t\t.catch(Error=>{\n\t\t\t\t  \t\t\tuni.showToast({\n\t\t\t\t  \t\t\t\ttitle:\"网络错误\",\n\t\t\t\t  \t\t\t\tduration:1000,\n\t\t\t\t  \t\t\t\ticon:'loading'\n\t\t\t\t  \t\t\t})\n\t\t\t\t  \t\t})\n\t\t\t\t    }\n\t\t\t\t})\n\t\t\t },\n\t\t\t \n\t\t\t //获取自己在本项目下专业的名称\n\t\t\t getDepartmentId:function(){\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:\"获取中\",\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tQuery.findUserProjectDepartmentByUserIdAndProjectId(_this.userInfo.id,_this.projectId)\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tconsole.log(\"查询到的departmentId\",data.data.records[0].departmentId)\n\t\t\t\t\t\t\t_this.departmentId = data.data.records[0].departmentId;\n\t\t\t\t\t\t\t_this.getDepartmentName(data.data.records[0].departmentId);\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(error=>{ \n\t\t\t\t\t\t\tconsole.log(error)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\t\ticon:\"loading\",\n\t\t\t\t\t\t\t\tduration:1000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t },\n\t\t\t \n\t\t\t //根据专业的id去查询专业的name\n\t\t\tgetDepartmentName:function(departmentId){\n\t\t\t\t\t_this = this;\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:\"获取中\",\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl:departmentQuery,\n\t\t\t\t\t\t\tmethod:\"POST\",\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\tid:departmentId\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdataType:'json'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tconsole.log(data)\n\t\t\t\t\t\t\tconsole.log(\"查询到的执行人的专业\",data[1].data.data.records[0].name);\n\t\t\t\t\t\t\t_this.departmentName = data[1].data.data.records[0].name;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(Error=>{\n\t\t\t\t\t\t\tconsole.log(Error)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\t\tduration:1000,\n\t\t\t\t\t\t\t\ticon:'loading'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t//根据项目的id去获取projectName\n\t\t\tfindProjectNameByProjectId:function(){\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:\"获取中\",\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t   url:projectQuery,\n\t\t\t\t\t\t   data:{\n\t\t\t\t\t\t\t   id:_this.projectId\n\t\t\t\t\t\t   },\n\t\t\t\t\t\t   method:\"POST\",\n\t\t\t\t\t\t   dataType:'json'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\tconsole.log(\"查询到的项目信息\",data)\n\t\t\t\t\t\t\t_this.projectName = data[1].data.data.records[0].projectName;\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(Error=>{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\t\tduration:500,\n\t\t\t\t\t\t\t\ticon:\"loading\"\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t//选择有限级的时候\n\t\t\tpickerPriorityChange:function(e){\n\t\t\t\tlet index = parseInt(e.detail.value);\n\t\t\t\tthis.taskPriority = this.priority[index];\n\t\t\t},\n\t\t\t\n\t\t    //首先获取本人在本项目下本冲刺的本专业的情况下taskOrder \n\t\t\t//根据查找到任务的总数进行统计,然后将统计的个数+1\n\t\t\tgetNowHadTaskOrder:function(callback){\n\t\t\t\t_this = this;\n\t\t\t\tconsole.log(\"查询条件\",{\n\t\t\t\t\t\t\t  taskExcuteUserId:_this.userInfo.id,\n\t\t\t\t\t\t\t  taskSprint:_this.sprintId,\n\t\t\t\t\t\t\t  projectId:_this.projectId,\n\t\t\t\t\t\t\t  departmentId:_this.departmentId,\n\t\t\t\t\t\t\t  pageNum:0,\n\t\t\t\t\t\t\t  pageSize:1000\n\t\t\t\t\t\t\t})\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:\"获取中\",\n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl:taskQuery,\n\t\t\t\t\t\t\tmethod:\"POST\",\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t  taskExcuteUserId:_this.userInfo.id,\n\t\t\t\t\t\t\t  taskSprint:_this.sprintId,\n\t\t\t\t\t\t\t  projectId:_this.projectId,\n\t\t\t\t\t\t\t  departmentId:_this.departmentId,\n\t\t\t\t\t\t\t  pageNum:0,\n\t\t\t\t\t\t\t  pageSize:1000\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdataType:'json'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//查到任务并且返回长度.\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tconsole.log(\"查询到的任务\",data);\n\t\t\t\t\t\t\tlet taskLength = data[1].data.data.records.length;\n\t\t\t\t\t\t\t  callback(taskLength);\n\t\t\t\t\t\t})\n\t\t\t\t\t    .catch(error=>{\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\t\ticon:\"loading\",\n\t\t\t\t\t\t\t\tduration:1000\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t//输入首字母\n\t\t\t//这里获取所有的该项目下该冲刺下该专业该用户的任务\n\t\t\t//即调用getNowHadTaskOrder函数来计算总数然后将输入的值\n\t\t\t//和总数＋1进行拼接作为最终的taskOrder赋给this.taskOrder\t\n\t\t\tinputTaskOrder:function(e){\n\t\t\t\tlet taskOrder = e.target.value;\n\t\t\t    let reg = /[A-Z]/i;\n\t\t\t\tif(reg.test(taskOrder)&&taskOrder.length===1){\n\t\t\t\t\tthis.getNowHadTaskOrder((length)=>{\n\t\t\t\t\t\tthis.taskOrder = taskOrder+(length+1);\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tthis.taskOrder = \"\";\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"输入有误\",\n\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\tduration:500\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t//输入任务的内容\n\t\t\tinputTaskName:function(e){\n\t\t\t\tif(e.detail.value.length<=20){\n\t\t\t\t\tthis.taskName = e.detail.value\n\t\t\t\t}else{\n\t\t\t\t\tthis.taskName = \"\";\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon:\"none\",\n\t\t\t\t\t\ttitle:\"任务长度过长\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},  \n\t\t\t\n\t\t\t//输入预估工时\n\t\t\tinputTaskPredictTime:function(e){\n\t\t\t\tlet taskPredictTime = e.detail.value;\n\t\t\t\tlet reg = /^[0-9]$/g;\n\t\t\t\tif(reg.test(taskPredictTime)){\n\t\t\t\t\tthis.taskPredictTime = e.detail.value;\n\t\t\t\t}else{\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:'请输入数字',\n\t\t\t\t\t\tduration:500,\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t    //添加任务提交的函数\n\t\t\tsubmitAddTask:function(e){\n\t\t\t   _this = this;\n\t\t\t   //信息不为空的时候进行提交\n\t\t\t   let data ={\n\t\t\t\t   \"departmentId\": _this.departmentId,\n\t\t\t\t   \"isReview\": 0,\n\t\t\t\t   \"projectId\": _this.projectId,\n\t\t\t\t   \"sprintId\": _this.sprintId,\n\t\t\t\t   \"taskChargeUserId\": _this.taskChargeUserId,\n\t\t\t\t   \"taskExecuteUserId\": _this.taskExcuteUserId,\n\t\t\t\t   \"taskName\": _this.taskName,\n\t\t\t\t   \"taskOrder\": _this.taskOrder,\n\t\t\t\t   \"taskPlainId\":\"\",                \n\t\t\t\t   \"taskPredictTime\": _this.taskPredictTime,\n\t\t\t\t   \"taskPriority\": _this.taskPriority,\n\t\t\t\t   \"taskState\": 0,\n\t\t\t   };\n\t\t\t   console.log(\"提交的信息\",data)\n\t\t\t   if(_this.projectId&&_this.taskExcuteUserId\n\t\t\t       &&_this.taskChargeUserId&&_this.sprintId\n\t\t\t\t   &&_this.taskChargeUserName&&_this.taskPriority\n\t\t\t\t   &&_this.taskPredictTime&&_this.taskOrder\n\t\t\t\t   &&_this.taskName&&_this.departmentName\n\t\t\t\t ){\n\t\t\t\t\t uni.showLoading({\n\t\t\t\t\t \ttitle: '提交中',\n\t\t\t\t\t \tmask: false,\n\t\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\t\t uni.request({\n\t\t\t\t\t\t\turl:taskAdd,\n\t\t\t\t\t\t\tmethod:'POST',\n\t\t\t\t\t\t\t//这个taskPlainId 在考虑要不要\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\t  \"departmentId\": _this.departmentId,\n\t\t\t\t\t\t\t\t  \"isReview\": 0,\n\t\t\t\t\t\t\t\t  \"projectId\": _this.projectId,\n\t\t\t\t\t\t\t\t  \"sprintId\": _this.sprintId,\n\t\t\t\t\t\t\t\t  \"taskChargeUserId\": _this.taskChargeUserId,\n\t\t\t\t\t\t\t\t  \"taskExecuteUserId\": _this.taskExcuteUserId,\n\t\t\t\t\t\t\t\t  \"taskName\": _this.taskName,\n\t\t\t\t\t\t\t\t  \"taskOrder\": _this.taskOrder,\n\t\t\t\t\t\t\t\t  \"taskPlainId\":\"\",                \n\t\t\t\t\t\t\t\t  \"taskPredictTime\": _this.taskPredictTime,\n\t\t\t\t\t\t\t\t  \"taskPriority\": _this.taskPriority,\n\t\t\t\t\t\t\t\t  \"taskState\": 0,\n\t\t\t\t\t\t\t\t  \"lastChangeStr\":_this.taskPredictTime\n\t\t\t\t\t\t    },\n\t\t\t\t\t\t\tdataType:'json'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tconsole.log(\"提交任务成功\",data);\n\t\t\t\t\t\t\t_this.pushAddMessagePush()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(Error=>{\n\t\t\t\t\t\t  uni.showToast({\n\t\t\t\t\t\t\t title: '网络错误',\n\t\t\t\t\t\t\t duration:500,\n\t\t\t\t\t\t\t icon:\"none\"\n\t\t\t\t\t\t  });\n\t\t\t\t\t\t})\t\n\t\t\t\t    } \n\t\t\t\t  });\n\t\t\t\t\n\t\t\t\t }else{\n\t\t\t\t\t uni.showToast({\n\t\t\t\t\t \ttitle:\"请完善信息\",\n\t\t\t\t\t\tduration:1000,\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t })\n\t\t\t\t }\n\t\t\t},\n\t\t\t\n\t\t\t//添加任务增加微信消息推送\n\t\t\tpushAddMessagePush:function(formId){\n\t\t\t\t_this = this;\n\t\t\t\tconsole.log(\"项目负责人的openId\",_this.openId)\n\t\t\t\tconsole.log(\"formId\",formId);\n\t\t\t\tlet applyTime = formatDate(new Date());\n\t\t\t\tuni.showLoading({\n\t\t\t\t\ttitle:\"提交提交中\", \n\t\t\t\t\tsuccess:()=>{\n\t\t\t\t\t\tuni.request({\n\t\t\t\t\t\t\turl:messageSend,\n\t\t\t\t\t\t\tmethod:\"POST\",\n\t\t\t\t\t\t\tdata:{\n\t\t\t\t\t\t\t\t\"touser\": _this.openId,                      //目标用户\n\t\t\t\t\t\t\t    \"template_id\": \"Paifa1aKUvziS35PwSX4L8XWX-aVMamivXDW5c9XOzc\",    //模板id\n\t\t\t\t\t\t\t\t\"page\": \"pages/reviewTask/reviewTask\",\n\t\t\t\t\t\t\t    \"form_id\": \"\",                                 //后台寻找这个目标用户的formId\n\t\t\t\t\t\t\t\t\"data\": {\n\t\t\t\t\t\t\t\t\t \"keyword1\": {\n\t\t\t\t\t\t\t\t\t\t\"value\": _this.userInfo.trueName,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"keyword2\": { \n\t\t\t\t\t\t\t\t\t\t\"value\": _this.projectName\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"keyword3\": {\n\t\t\t\t\t\t\t\t\t\t\"value\": _this.departmentName\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"keyword4\": {\n\t\t\t\t\t\t\t\t\t\t\"value\":\"新增\"+_this.taskName\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"keyword5\": {\n\t\t\t\t\t\t\t\t\t\t\"value\":applyTime\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\"emphasis_keyword\": \"keyword1.DATA\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\t\n\t\t\t\t\t\t}) \n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"提交成功\",\n\t\t\t\t\t\t\t\ticon:\"../../static/img/Icon/success.png\",\n\t\t\t\t\t\t\t\tduration:500\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tconsole.log(\"消息推送成功\",data)\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(Error=>{\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\t\ticon:\"loading\",\n\t\t\t\t\t\t\t\tduration:500\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\t\t  \n\t\t }\n\t}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}