{"version":3,"sources":["webpack:///E:/code/agile-front/agile/pages/admin/admin.vue?a2f3","webpack:///E:/code/agile-front/agile/pages/admin/admin.vue?3a28","webpack:///E:/code/agile-front/agile/pages/admin/admin.vue?e52e","webpack:///E:/code/agile-front/agile/pages/admin/admin.vue?f4ab","webpack:///E:/code/agile-front/agile/pages/admin/admin.vue","webpack:///E:/code/agile-front/agile/pages/admin/admin.vue?e042","webpack:///E:/code/agile-front/agile/pages/admin/admin.vue?1bd7"],"names":["login","require","Login","query","Query","_this","components","uniCard","data","userInfo","projectId","userList1","userList2","userList3","roleId","allUserProjectRole","allDepartmentInfo","onShow","getAllDepartment","uni","getStorage","key","success","res","id","findUser","then","console","log","records","getAllUserProjectRole1","fail","url","methods","findUserProjectRoleByProjectId","allUser","item","forEach","index","userId","push","catch","error","showToast","title","duration","icon","findUserProjectDepartmentByUserIdAndProjectId","departmentId","i","length","departmentName","name","changeUserRole","e","roleAndUserId","JSON","parse","currentTarget","parseInt","showModal","content","confirmText","confirmColor","cancelText","cancelColor","confirm","navigateTo","cancel","showLoading","request","method","hideLoading","Error"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoF;AAC3B;AACL;AACa;;;AAGjE;AACqI;AACrI,gBAAgB,kJAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,4nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACiEtnB,mE,8pBAjED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEC,IAAMA,KAAK,GAAGC,mBAAO,CAAC,kCAAD,CAAP,CAAoCC,KAAlD,CACA,IAAMC,KAAK,GAAGF,mBAAO,CAAC,kCAAD,CAAP,CAAoCG,KAAlD,C,oOAGA,IAAMF,KAAK,GAAG,IAAIF,KAAJ,EAAd,CACA,IAAMI,KAAK,GAAG,IAAID,KAAJ,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","file":"pages/admin/admin.js","sourcesContent":["import { render, staticRenderFns } from \"./admin.vue?vue&type=template&id=76b34af4&\"\nimport script from \"./admin.vue?vue&type=script&lang=js&\"\nexport * from \"./admin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./admin.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('76b34af4', component.options)\n    } else {\n      api.reload('76b34af4', component.options)\n    }\n    module.hot.accept(\"./admin.vue?vue&type=template&id=76b34af4&\", function () {\n      api.rerender('76b34af4', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/code/agile-front/agile/pages/admin/admin.vue\"\nexport default component.exports","export * from \"-!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./admin.vue?vue&type=template&id=76b34af4&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.userList1, function(item, index) {\n    var g0 = JSON.stringify({\n      userId: item.id,\n      roleId: 1\n    })\n    return {\n      $orig: _vm.__get_orig(item),\n      g0: g0\n    }\n  })\n\n  var l1 = _vm.__map(_vm.userList2, function(item, index) {\n    var g1 = JSON.stringify({\n      userId: item.id,\n      roleId: 2\n    })\n    return {\n      $orig: _vm.__get_orig(item),\n      g1: g1\n    }\n  })\n\n  var l2 = _vm.__map(_vm.userList3, function(item, index) {\n    var g2 = JSON.stringify({\n      userId: item.id,\n      roleId: 3\n    })\n    return {\n      $orig: _vm.__get_orig(item),\n      g2: g2\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        l1: l1,\n        l2: l2\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./admin.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\tconst login = require('../../static/utils/utils').Login;\n\tconst query = require('../../static/utils/utils').Query;\n\timport uniCard from \"@/components/uni-card/uni-card.vue\";\n\timport {getAllDepartment} from '../../static/utils/api.js';\n\tconst Login = new login();\n\tconst Query = new query();\n\tvar _this;\n\t\texport default {\n\t\t\tcomponents: {uniCard},\n\t\t\tdata() {\n\t\t\t\treturn {\n\t\t\t\t\tuserInfo:\" \",\n\t\t\t\t\tprojectId:\" \",      //所在的项目的id\n\t\t\t\t\tuserList1:[],       //项目负责人\n\t\t\t\t\tuserList2:[],       //2权限用户表\n\t\t\t\t\tuserList3:[],       //3权限用户表\n\t\t\t\t\troleId:\"\" ,         //用户的权限  1权限获取本项目的所有的工程师和Boss 0权限没有这个功能不用考虑\n\t\t\t\t\t\n\t\t\t\t\tallUserProjectRole:[],   //存放着获取到的所有的用户项目权限信息\n\t\t\t\t\t\n\t\t\t\t\tallDepartmentInfo:[]     //存放着所有专业的信息\n\t\t\t\t}\n\t\t\t},\n\t\t\tonShow(){\n\t\t\t\t_this = this;\n\t\t\t\t_this.getAllDepartment();     //获取所有专业\n\t\t\t\tuni.getStorage({\n\t\t\t\t\tkey:\"userInfo\",\n\t\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t\tlet id = {\n\t\t\t\t\t\t\tid:res.data.id\n\t\t\t\t\t\t}\n\t\t\t\t\t\tQuery.findUser(id)\n\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\t   console.log(data)\n\t\t\t\t\t\t\t   _this.userInfo = data.data.records[0];\n\t\t\t\t\t\t\t   uni.getStorage({\n\t\t\t\t\t\t\t  \t \tkey:\"nowInProject\",\n\t\t\t\t\t\t\t  \t \tsuccess:(res)=>{\n\t\t\t\t\t\t\t  \t \t\t_this.projectId = res.data.projectId;\n\t\t\t\t\t\t\t\t\t\t_this.roleId === 1;     //能进来这个页面肯定为项目的负责人，权限为1\n\t\t\t\t\t\t\t\t\t\t_this.getAllUserProjectRole1()\n\t\t\t\t\t\t\t  \t \t}\n\t\t\t\t\t\t\t  \t })\t\n\t\t\t\t\t\t\t })\n\t\t\t\t\t},\n\t\t\t\t\tfail:()=>{\n\t\t\t\t\t\turl:'../login/login'\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tmethods: {\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t//1权限用户的查询\n\t\t\t\tgetAllUserProjectRole1:function(){\n\t\t\t\t\t_this = this;\n\t\t\t\t\tQuery.findUserProjectRoleByProjectId(_this.projectId)\n\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\tconsole.log(\"1权限用户查询到的\",data.data.records);\n\t\t\t\t\t\t   let allUser = data.data.records;\n\t\t\t\t\t\t   _this.allUserProjectRole = allUser;\n\t\t\t\t\t\t   let userList1 = [];\n\t\t\t\t\t\t   let userList2 = [];\n\t\t\t\t\t\t   let userList3 = [];\n\t\t\t\t\t\t   let item;       //中间量\n\t\t\t\t\t\t   allUser.forEach((item,index)=>{\n\t\t\t\t\t\t\t  switch (item.roleId){\n\t\t\t\t\t\t\t  \tcase 1:\n\t\t\t\t\t\t\t\t\tQuery.findUser({id:item.userId})\n\t\t\t\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\t\t\t  userList1.push(data.data.records[0])\t\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(error=>{\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '获取失败',\n\t\t\t\t\t\t\t\t\t\t\tduration:1000,\n\t\t\t\t\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t  \t\tbreak;\n\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\tQuery.findUser({id:item.userId})\n\t\t\t\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\t\t\t\titem = data.data.records[0];\n\t\t\t\t\t\t\t\t\t\treturn Query.findUserProjectDepartmentByUserIdAndProjectId(data.data.records[0].id,_this.projectId)\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\t\t\t  let departmentId = data.data.records[0].departmentId;\n\t\t\t\t\t\t\t\t\t  for(var i = 0;i<_this.allDepartmentInfo.length;i++){\n\t\t\t\t\t\t\t\t\t\t  if(_this.allDepartmentInfo[i].id===departmentId){\n\t\t\t\t\t\t\t\t\t\t\t  item.departmentName = _this.allDepartmentInfo[i].name\n\t\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t  userList2.push(item);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(error=>{\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '获取失败',\n\t\t\t\t\t\t\t\t\t\t\tduration:1000,\n\t\t\t\t\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t\tQuery.findUser({id:item.userId})\n\t\t\t\t\t\t\t\t\t.then(data=>{\n\t\t\t\t\t\t\t\t\t\tuserList3.push(data.data.records[0]);\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t.catch(error=>{\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\t\ttitle: '获取失败',\n\t\t\t\t\t\t\t\t\t\t\tduration:1000,\n\t\t\t\t\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t  \tdefault:\n\t\t\t\t\t\t\t  \t\tbreak;\n\t\t\t\t\t\t\t  };\n\t\t\t\t\t\t    })\n\t\t\t\t\t\t   _this.userList1 = userList1; \n\t\t\t\t\t\t   _this.userList2 = userList2;\n\t\t\t\t\t\t   _this.userList3 = userList3;\n\t\t\t\t\t\t})\n\t\t\t\t },\n\t\t\t\t \n\t\t\t\t //改变用户的权限,并且将选择的用户的userId和对应的权限传递到改变的页面\n\t\t\t\t changeUserRole:function(e){\n\t\t\t\t\t let roleAndUserId = JSON.parse(e.currentTarget.id);\n                     if(roleAndUserId.roleId!=1){ //跳转改变权限和授权的时候不允许1权限改变1权限\n\t\t\t\t\t \n\t\t\t\t\t    //先根据选中的用户的UserId和项目的projectId寻找到这这条t_user_project_role的id供后面更新用户的权限用\n\t\t\t\t\t     for(var i in this.allUserProjectRole){\n\t\t\t\t\t\t\t if(this.allUserProjectRole[i].userId===parseInt(roleAndUserId.userId)){\n\t\t\t\t\t\t\t\t let id = this.allUserProjectRole[i].id;\n\t\t\t\t\t\t\t\t roleAndUserId = {\n\t\t\t\t\t\t\t\t\t ...roleAndUserId,\n\t\t\t\t\t\t\t\t\t id\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\t }\n\t\t\t\t\t\t }\n\t\t\t\t\t\t if(roleAndUserId.roleId===2){\n\t\t\t\t\t\t\t uni.showModal({\n\t\t\t\t\t\t\t \ttitle:\"提醒\",\n\t\t\t\t\t\t\t\tcontent:\"项目启动并且冲刺开始后请勿修改用户的专业和权限不然会造成数据紊乱后果自理\",\n\t\t\t\t\t\t\t\tconfirmText:\"同意\",\n\t\t\t\t\t\t\t\tconfirmColor:\"#19BE6B\",\n\t\t\t\t\t\t\t\tcancelText:\"不同意\",\n\t\t\t\t\t\t\t\tcancelColor:\"#DD524D\",\n\t\t\t\t\t\t\t\tsuccess:(res)=>{\n\t\t\t\t\t\t\t\t\tif(res.confirm){\n\t\t\t\t\t\t\t\t\t   uni.navigateTo({\n\t\t\t\t\t\t\t\t\t  \turl:`../changeUserRole/changeUserRole?userId=${roleAndUserId.userId}&roleId=${roleAndUserId.roleId}&id=${roleAndUserId.id}`\n\t\t\t\t\t\t\t\t\t  }) \n\t\t\t\t\t\t\t\t\t}else if(res.cancel){\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t })\n\t\t\t\t\t\t }else{\n\t\t\t\t\t\t\t uni.navigateTo({\n\t\t\t\t\t\t\t\turl:`../changeUserRole/changeUserRole?userId=${roleAndUserId.userId}&roleId=${roleAndUserId.roleId}&id=${roleAndUserId.id}`\n\t\t\t\t\t\t\t})  \n\t\t\t\t\t\t }\n\t\t\t\t\t }\n\t\t\t\t },\n\t\t\t\t \n\t\t\t\t \n\t\t\t\t //获取所有的专业\n\t\t\t\t getAllDepartment:function(){\n\t\t\t\t\t _this = this;\n\t\t\t\t\t uni.showLoading({\n\t\t\t\t\t \ttitle:'获取中',\n\t\t\t\t\t\t success:()=>{\n\t\t\t\t\t\t\t uni.request({\n\t\t\t\t\t\t\t \turl:getAllDepartment,\n\t\t\t\t\t\t\t\tmethod:\"GET\"\n\t\t\t\t\t\t\t })\n\t\t\t\t\t\t\t .then(data=>{\n\t\t\t\t\t\t\t\t console.log(\"获取到的所有的专业\",data)\n\t\t\t\t\t\t\t\t uni.hideLoading();\n\t\t\t\t\t\t\t\t _this.allDepartmentInfo = data[1].data.data;\n\t\t\t\t\t\t\t })\n\t\t\t\t\t\t\t .catch(Error=>{\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle:\"网络错误\",\n\t\t\t\t\t\t\t\t\tduration:500,\n\t\t\t\t\t\t\t\t\ticon:\"loading\"\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t })\n\t\t\t\t\t\t  }\n\t\t\t\t\t   })\n\t\t\t\t   }\n\t\t\t\t\n\t\t\t  }\n\t\t\t}\n","import mod from \"-!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./admin.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\install\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./admin.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}